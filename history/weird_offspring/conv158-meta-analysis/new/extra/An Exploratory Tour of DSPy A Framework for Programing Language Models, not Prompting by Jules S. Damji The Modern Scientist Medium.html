<!doctype html><html lang="en"><head><title data-rh="true">An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting | by Jules S. Damji | The Modern Scientist | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-09-03T19:24:37.706Z"/><meta data-rh="true" name="title" content="An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting | by Jules S. Damji | The Modern Scientist | Medium"/><meta data-rh="true" property="og:title" content="An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting"/><meta data-rh="true" property="al:android:url" content="medium://p/711bc4a56376"/><meta data-rh="true" property="al:ios:url" content="medium://p/711bc4a56376"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Some contend that in the realm of software development, less than ideal innovations, with less than ideal developer adoption and community, fade into irrelevance. In today’s frenzy and tizzy world of…"/><meta data-rh="true" property="og:description" content="Is declarative approach appropriate to programming LLMs? A peek at DSPy programming model?"/><meta data-rh="true" property="og:url" content="https://medium.com/the-modern-scientist/an-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376"/><meta data-rh="true" property="al:web:url" content="https://medium.com/the-modern-scientist/an-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/da:true/resize:fit:519/0*BrWMqrUp5Wa-0sGs"/><meta data-rh="true" property="article:author" content="https://medium.com/@2twitme"/><meta data-rh="true" name="author" content="Jules S. Damji"/><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/711bc4a56376"/><meta data-rh="true" property="twitter:description" content="Is declarative approach appropriate to programming LLMs? A peek at DSPy programming model?"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/da:true/resize:fit:519/0*BrWMqrUp5Wa-0sGs"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:creator" content="@2twitme"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="15 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@2twitme"/><link data-rh="true" rel="canonical" href="https://medium.com/the-modern-scientist/an-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/711bc4a56376"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fda:true\u002Fresize:fit:1200\u002F0*BrWMqrUp5Wa-0sGs"],"url":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376","dateCreated":"2024-06-03T19:17:32.584Z","datePublished":"2024-06-03T19:17:32.584Z","dateModified":"2024-09-03T19:24:37.706Z","headline":"An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting","name":"An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting","description":"Some contend that in the realm of software development, less than ideal innovations, with less than ideal developer adoption and community, fade into irrelevance. In today’s frenzy and tizzy world of…","identifier":"711bc4a56376","author":{"@type":"Person","name":"Jules S. Damji","url":"https:\u002F\u002Fmedium.com\u002F@2twitme"},"creator":["Jules S. Damji"],"publisher":{"@type":"Organization","name":"The Modern Scientist","url":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist","logo":{"@type":"ImageObject","width":60,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:120\u002F1*9FbQbOV7VrXIwo_U-Q3mQA.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376"}</script><style type="text/css" data-fela-rehydration="537" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="537" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{width:auto}.av path{fill:#242424}.aw{height:25px}.ax{margin-left:16px}.ay{border:none}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{margin-left:24px}.br{height:24px}.bx{background-color:#F9F9F9}.by{border-radius:50%}.bz{height:32px}.ca{width:32px}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dt{margin-left:8px}.du{color:#6B6B6B}.dv{font-size:13px}.dw{height:100%}.ep{color:#FFFFFF}.eq{fill:#FFFFFF}.er{background:rgba(121, 135, 143, 1)}.es{border-color:rgba(121, 135, 143, 1)}.ew:disabled{cursor:inherit !important}.ex:disabled{opacity:0.3}.ey:disabled:hover{background:rgba(121, 135, 143, 1)}.ez:disabled:hover{border-color:rgba(121, 135, 143, 1)}.fa{border-radius:99em}.fb{border-width:1px}.fc{border-style:solid}.fd{box-sizing:border-box}.fe{text-decoration:none}.ff{text-align:center}.fi{margin-right:32px}.fj{position:relative}.fk{fill:#6B6B6B}.fn{background:transparent}.fo svg{margin-left:4px}.fp svg{fill:#6B6B6B}.fr{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fs{position:absolute}.fz{margin:0 24px}.gd{background:rgba(255, 255, 255, 1)}.ge{border:1px solid #F2F2F2}.gf{box-shadow:0 1px 4px #F2F2F2}.gg{max-height:100vh}.gh{overflow-y:auto}.gi{left:0}.gj{top:calc(100vh + 100px)}.gk{bottom:calc(100vh + 100px)}.gl{width:10px}.gm{pointer-events:none}.gn{word-break:break-word}.go{word-wrap:break-word}.gp:after{display:block}.gq:after{content:""}.gr:after{clear:both}.gs{line-height:1.23}.gt{letter-spacing:0}.gu{font-style:normal}.gv{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.hq{margin-bottom:-0.27em}.hr{line-height:1.394}.im{align-items:baseline}.in{width:48px}.io{height:48px}.ip{border:2px solid rgba(255, 255, 255, 1)}.iq{z-index:0}.ir{box-shadow:none}.is{border:1px solid rgba(0, 0, 0, 0.05)}.it{margin-left:-12px}.iu{width:28px}.iv{height:28px}.iw{z-index:1}.ix{width:24px}.iy{margin-bottom:2px}.iz{flex-wrap:nowrap}.ja{font-size:16px}.jb{line-height:24px}.jd{margin:0 8px}.je{display:inline}.jf{color:rgba(121, 135, 143, 1)}.jg{fill:rgba(121, 135, 143, 1)}.jj{flex:0 0 auto}.jm{flex-wrap:wrap}.jp{white-space:pre-wrap}.jq{margin-right:4px}.jr{overflow:hidden}.js{max-height:20px}.jt{text-overflow:ellipsis}.ju{display:-webkit-box}.jv{-webkit-line-clamp:1}.jw{-webkit-box-orient:vertical}.jx{word-break:break-all}.jz{padding-left:8px}.ka{padding-right:8px}.lb> *{flex-shrink:0}.lc{overflow-x:scroll}.ld::-webkit-scrollbar{display:none}.le{scrollbar-width:none}.lf{-ms-overflow-style:none}.lg{width:74px}.lh{flex-direction:row}.li{z-index:2}.ll{-webkit-user-select:none}.lm{border:0}.ln{fill:rgba(117, 117, 117, 1)}.lq{outline:0}.lr{user-select:none}.ls> svg{pointer-events:none}.mb{cursor:progress}.mc{margin-left:4px}.md{margin-top:0px}.me{opacity:1}.mf{padding:4px 0}.mi{width:16px}.mk{display:inline-flex}.mq{max-width:100%}.mr{padding:8px 2px}.ms svg{color:#6B6B6B}.nj{line-height:1.12}.nk{letter-spacing:-0.022em}.nl{font-weight:600}.oe{margin-bottom:-0.28em}.of{line-height:1.58}.og{letter-spacing:-0.004em}.oh{font-family:fell, Georgia, Cambria, "Times New Roman", Times, serif}.pa{margin-bottom:-0.46em}.pb{margin-left:auto}.pc{margin-right:auto}.pd{max-width:519px}.pj{clear:both}.pk{height:auto}.pl{margin-top:10px}.pm{max-width:728px}.pu{text-decoration:underline}.pv{font-style:italic}.pw{max-width:1494px}.py{cursor:zoom-in}.pz{z-index:auto}.qb{font-weight:500}.qc{max-width:1806px}.qd{max-width:798px}.qe{box-shadow:inset 3px 0 0 0 #242424}.qf{padding-left:23px}.qg{margin-left:-20px}.qh{overflow-x:auto}.qi{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.qj{padding:32px}.qk{border:1px solid #E5E5E5}.ql{line-height:1.4}.qm{margin-top:-0.2em}.qn{margin-bottom:-0.2em}.qo{white-space:pre}.qp{min-width:fit-content}.qq{max-width:1600px}.qr{max-width:700px}.qs{max-width:1156px}.qt{max-width:1618px}.qu{margin-top:16px}.qv{max-width:1400px}.qw{list-style-type:decimal}.qx{margin-left:30px}.qy{padding-left:0px}.re{list-style-type:disc}.rf{margin-bottom:26px}.rg{margin-top:6px}.rh{margin-top:8px}.ri{margin-right:8px}.rj{padding:8px 16px}.rk{border-radius:100px}.rl{transition:background 300ms ease}.rn{white-space:nowrap}.ro{border-top:none}.ru{height:52px}.rv{max-height:52px}.rw{box-sizing:content-box}.rx{position:static}.rz{max-width:155px}.sf{margin-right:20px}.sl{align-items:flex-end}.sm{width:76px}.sn{height:76px}.so{border:2px solid #F9F9F9}.sp{height:72px}.sq{width:72px}.sr{margin-left:-16px}.ss{width:36px}.st{height:36px}.su{stroke:#F2F2F2}.sv{color:#F2F2F2}.sw{fill:#F2F2F2}.sx{background:#F2F2F2}.sy{border-color:#F2F2F2}.te{font-size:24px}.tf{line-height:30px}.tg{letter-spacing:-0.016em}.th{height:0px}.ti{border-bottom:solid 1px #E5E5E5}.to{margin-top:72px}.tp{padding:24px 0}.tq{margin-bottom:0px}.tr{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.et:hover{background:rgba(105, 116, 122, 1)}.eu:hover{border-color:rgba(105, 116, 122, 1)}.ev:hover{cursor:pointer}.fl:hover{color:#242424}.fm:hover{fill:#242424}.fq:hover svg{fill:#242424}.ft:hover{background-color:rgba(0, 0, 0, 0.1)}.jc:hover{text-decoration:underline}.jh:hover:not(:disabled){color:rgba(105, 116, 122, 1)}.ji:hover:not(:disabled){fill:rgba(105, 116, 122, 1)}.lp:hover{fill:rgba(8, 8, 8, 1)}.mg:hover{fill:#000000}.mh:hover p{color:#000000}.mj:hover{color:#000000}.mt:hover svg{color:#000000}.rm:hover{background-color:#F2F2F2}.sz:hover{background:#F2F2F2}.ta:hover{border-color:#F2F2F2}.tb:hover{cursor:wait}.tc:hover{color:#F2F2F2}.td:hover{fill:#F2F2F2}.bd:focus-within path{fill:#242424}.lo:focus{fill:rgba(8, 8, 8, 1)}.mu:focus svg{color:#000000}.qa:focus{transform:scale(1.01)}.lt:active{border-style:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bw{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.ef{font-size:14px}.eg{line-height:20px}.em{font-size:13px}.eo{padding:5px 12px}.fh{display:flex}.fy{margin-bottom:68px}.gc{max-width:680px}.hm{font-size:42px}.hn{margin-top:1.19em}.ho{line-height:52px}.hp{letter-spacing:-0.011em}.ie{font-size:22px}.if{margin-top:0.92em}.ig{line-height:28px}.il{align-items:center}.kn{border-top:solid 1px #F2F2F2}.ko{border-bottom:solid 1px #F2F2F2}.kp{margin:32px 0 0}.kq{padding:3px 8px}.kz> *{margin-right:24px}.la> :last-child{margin-right:0}.ma{margin-top:0px}.mp{margin:0}.oa{font-size:24px}.ob{margin-top:1.95em}.oc{line-height:30px}.od{letter-spacing:-0.016em}.ow{font-size:20px}.ox{margin-top:0.94em}.oy{line-height:32px}.oz{letter-spacing:-0.003em}.pi{margin-top:56px}.pt{margin-top:2.14em}.rd{margin-top:1.14em}.rt{margin-bottom:88px}.se{display:inline-block}.sk{padding-top:72px}.tn{margin-top:40px}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.lz{margin-top:0px}.pn{margin-left:auto}.po{text-align:center}.sd{display:inline-block}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ly{margin-top:0px}.sc{display:inline-block}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.lw{margin-top:0px}.lx{margin-right:0px}.sb{display:inline-block}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dx{font-size:13px}.dy{line-height:20px}.eh{padding:0px 8px 1px}.fu{margin-bottom:4px}.gw{font-size:32px}.gx{margin-top:1.01em}.gy{line-height:38px}.gz{letter-spacing:-0.014em}.hs{font-size:18px}.ht{margin-top:0.79em}.hu{line-height:24px}.ih{align-items:flex-start}.jk{flex-direction:column}.jn{margin-bottom:2px}.kb{margin:24px -24px 0}.kc{padding:0}.kr> *{margin-right:8px}.ks> :last-child{margin-right:24px}.lj{margin-left:0px}.lu{margin-top:0px}.lv{margin-right:0px}.ml{margin:0}.mv{border:1px solid #F2F2F2}.mw{border-radius:99em}.mx{padding:0px 16px 0px 12px}.my{height:38px}.mz{align-items:center}.nb svg{margin-right:8px}.nm{font-size:20px}.nn{margin-top:1.2em}.no{letter-spacing:0}.oi{margin-top:0.67em}.oj{line-height:28px}.ok{letter-spacing:-0.003em}.pe{margin-top:40px}.pp{margin-top:1.56em}.qz{margin-top:1.34em}.rp{margin-bottom:80px}.sa{display:inline-block}.sg{padding-top:48px}.tj{margin-top:32px}.na:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ed{font-size:14px}.ee{line-height:20px}.ek{font-size:13px}.el{padding:5px 12px}.fg{display:flex}.fx{margin-bottom:68px}.gb{max-width:680px}.hi{font-size:42px}.hj{margin-top:1.19em}.hk{line-height:52px}.hl{letter-spacing:-0.011em}.ib{font-size:22px}.ic{margin-top:0.92em}.id{line-height:28px}.ik{align-items:center}.kj{border-top:solid 1px #F2F2F2}.kk{border-bottom:solid 1px #F2F2F2}.kl{margin:32px 0 0}.km{padding:3px 8px}.kx> *{margin-right:24px}.ky> :last-child{margin-right:0}.mo{margin:0}.nw{font-size:24px}.nx{margin-top:1.95em}.ny{line-height:30px}.nz{letter-spacing:-0.016em}.os{font-size:20px}.ot{margin-top:0.94em}.ou{line-height:32px}.ov{letter-spacing:-0.003em}.ph{margin-top:56px}.ps{margin-top:2.14em}.rc{margin-top:1.14em}.rs{margin-bottom:88px}.sj{padding-top:72px}.tm{margin-top:40px}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bu{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.eb{font-size:13px}.ec{line-height:20px}.ej{padding:0px 8px 1px}.fw{margin-bottom:68px}.ga{max-width:680px}.he{font-size:42px}.hf{margin-top:1.19em}.hg{line-height:52px}.hh{letter-spacing:-0.011em}.hy{font-size:22px}.hz{margin-top:0.92em}.ia{line-height:28px}.ij{align-items:center}.kf{border-top:solid 1px #F2F2F2}.kg{border-bottom:solid 1px #F2F2F2}.kh{margin:32px 0 0}.ki{padding:3px 8px}.kv> *{margin-right:24px}.kw> :last-child{margin-right:0}.mn{margin:0}.ns{font-size:24px}.nt{margin-top:1.95em}.nu{line-height:30px}.nv{letter-spacing:-0.016em}.oo{font-size:20px}.op{margin-top:0.94em}.oq{line-height:32px}.or{letter-spacing:-0.003em}.pg{margin-top:56px}.pr{margin-top:2.14em}.rb{margin-top:1.14em}.rr{margin-bottom:88px}.si{padding-top:72px}.tl{margin-top:40px}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bt{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.dz{font-size:13px}.ea{line-height:20px}.ei{padding:0px 8px 1px}.fv{margin-bottom:4px}.ha{font-size:32px}.hb{margin-top:1.01em}.hc{line-height:38px}.hd{letter-spacing:-0.014em}.hv{font-size:18px}.hw{margin-top:0.79em}.hx{line-height:24px}.ii{align-items:flex-start}.jl{flex-direction:column}.jo{margin-bottom:2px}.kd{margin:24px 0 0}.ke{padding:0}.kt> *{margin-right:8px}.ku> :last-child{margin-right:8px}.lk{margin-left:0px}.mm{margin:0}.nc{border:1px solid #F2F2F2}.nd{border-radius:99em}.ne{padding:0px 16px 0px 12px}.nf{height:38px}.ng{align-items:center}.ni svg{margin-right:8px}.np{font-size:20px}.nq{margin-top:1.2em}.nr{letter-spacing:0}.ol{margin-top:0.67em}.om{line-height:28px}.on{letter-spacing:-0.003em}.pf{margin-top:40px}.pq{margin-top:1.56em}.ra{margin-top:1.34em}.rq{margin-bottom:80px}.sh{padding-top:48px}.tk{margin-top:32px}.nh:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="print">.ry{display:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.jy{max-height:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.px{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="du ag dv bf ak b am an ao ap aq ar as at s u w i d q dw z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F711bc4a56376&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;source=---two_column_layout_nav----------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dt"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" rel="noopener follow" href="/?source=---two_column_layout_nav----------------------------------"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" viewBox="0 0 719 160" class="au av aw"><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ax h"><div class="ab ay az ba bb q bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ay be bf bg z bh bi bj bk bl" placeholder="Search" value=""/></div></div></div><div class="h k w fg fh"><div class="fi ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---two_column_layout_nav-----------------------new_post_topnav-----------"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dt l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fi ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" rel="noopener follow" href="/search?source=---two_column_layout_nav----------------------------------"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fi h k j"><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ay fn am ab q ao fo fp fq" aria-label="user options menu" data-testid="headerUserIcon"><div class="l fj"><img alt="" class="l fd by bz ca cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fr by l bz ca fs n ay ft"></div></div></button></div></div></div><div class="l"><div class="fu fv fw fx fy l"><div class="ab cb"><div class="ci bh fz ga gb gc"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fs gi gj gk gl gm"></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><div><h1 id="4783" class="pw-post-title gs gt gu gv b gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq bk" data-testid="storyTitle">An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting</h1></div><div><h2 id="7bf3" class="pw-subtitle-paragraph hr gt gu bf b hs ht hu hv hw hx hy hz ia ib ic id ie if ig cq du">Is declarative approach appropriate to programming LLMs? A peek at DSPy programming model?</h2><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="ih ii ij ik il ab"><div><div class="ab im"><a rel="noopener follow" href="/@2twitme?source=post_page-----711bc4a56376--------------------------------"><div><div class="bm" aria-hidden="false"><div class="l in io by ip iq"><div class="l fj"><img alt="Jules S. Damji" class="l fd by dd de cx" src="https://miro.medium.com/v2/resize:fill:88:88/0*hIS9LgEB75e1xfzz.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="ir by l dd de fs n is ft"></div></div></div></div></div></a><a href="https://medium.com/the-modern-scientist?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><div class="it ab fj"><div><div class="bm" aria-hidden="false"><div class="l iu iv by ip iw"><div class="l fj"><img alt="The Modern Scientist" class="l fd by br ix cx" src="https://miro.medium.com/v2/resize:fill:48:48/1*9FbQbOV7VrXIwo_U-Q3mQA.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto"/><div class="ir by l br ix fs n is ft"></div></div></div></div></div></div></a></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="iy ab q"><div class="ab q iz"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b ja jb bk"><a class="af ag ah ai aj ak al am an ao ap aq ar jc" data-testid="authorName" rel="noopener follow" href="/@2twitme?source=post_page-----711bc4a56376--------------------------------">Jules S. Damji</a></p></div></div></div><span class="jd je" aria-hidden="true"><span class="bf b bg z du">·</span></span><p class="bf b ja jb du"><span><a class="jf jg ah ai aj ak al am an ao ap aq ar ex jh ji" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F603ab1741c22&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=post_page-603ab1741c22----711bc4a56376---------------------post_header-----------">Follow</a></span></p></div></div></span></div></div><div class="l jj"><span class="bf b bg z du"><div class="ab cn jk jl jm"><div class="jn jo ab"><div class="bf b bg z du ab jp"><span class="jq l jj">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar jc ab q" data-testid="publicationName" href="https://medium.com/the-modern-scientist?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b bg z jr js jt ju jv jw jx jy bk">The Modern Scientist</p></a></div></div></div><div class="h k"><span class="jd je" aria-hidden="true"><span class="bf b bg z du">·</span></span></div></div><span class="bf b bg z du"><div class="ab ae"><span data-testid="storyReadTime">15 min read</span><div class="jz ka l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z du">·</span></span></div><span data-testid="storyPublishDate">Jun 3, 2024</span></div></span></div></span></div></div></div><div class="ab cp kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq"><div class="h k w fg fh q"><div class="lg l"><div class="ab q lh li"><div class="pw-multi-vote-icon fj jq lj lk ll"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fthe-modern-scientist%2F711bc4a56376&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=-----711bc4a56376---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="lm ao ln lo lp lq am lr ls lt ll"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l lu lv lw lx ly lz ma"><p class="bf b dv z du"><span class="mb">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao lm me mf ab q fk mg mh" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="md"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b dv z du"><span class="pw-responses-count mc md">4</span></p></button></div></div></div><div class="ab q kr ks kt ku kv kw kx ky kz la lb lc ld le lf"><div class="mi k j i d"></div><div class="h k"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F711bc4a56376&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;source=-----711bc4a56376---------------------bookmark_footer-----------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du mj" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="fd mk cn"><div class="l ae"><div class="ab cb"><div class="ml mm mn mo mp mq ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af fk ah ai aj ak al mr an ao ap ex ms mt mh mu mv mw mx my s mz na nb nc nd ne nf u ng nh ni"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af fk ah ai aj ak al mr an ao ap ex ms mt mh mu mv mw mx my s mz na nb nc nd ne nf u ng nh ni"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Share</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="19cc" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Introduction</h1><p id="b4a8" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Some contend that in the realm of software development, less than ideal innovations, with less than ideal developer adoption and community, fade into irrelevance. In today’s frenzy and tizzy world of Generative AI, better “ways of doing stuff” emerge daily, each with their proponents advocating with infectious enthusiasm their merits over other innovations.</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div class="pb pc pd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*BrWMqrUp5Wa-0sGs 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*BrWMqrUp5Wa-0sGs 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*BrWMqrUp5Wa-0sGs 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*BrWMqrUp5Wa-0sGs 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*BrWMqrUp5Wa-0sGs 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*BrWMqrUp5Wa-0sGs 1100w, https://miro.medium.com/v2/resize:fit:1038/format:webp/0*BrWMqrUp5Wa-0sGs 1038w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 519px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*BrWMqrUp5Wa-0sGs 640w, https://miro.medium.com/v2/resize:fit:720/0*BrWMqrUp5Wa-0sGs 720w, https://miro.medium.com/v2/resize:fit:750/0*BrWMqrUp5Wa-0sGs 750w, https://miro.medium.com/v2/resize:fit:786/0*BrWMqrUp5Wa-0sGs 786w, https://miro.medium.com/v2/resize:fit:828/0*BrWMqrUp5Wa-0sGs 828w, https://miro.medium.com/v2/resize:fit:1100/0*BrWMqrUp5Wa-0sGs 1100w, https://miro.medium.com/v2/resize:fit:1038/0*BrWMqrUp5Wa-0sGs 1038w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 519px"/><img alt="" class="bh mq pk c" width="519" height="519" loading="lazy" role="presentation"/></picture></div><figcaption class="pl ff pm pb pc pn po bf b bg z du">Courtesy of DALL-E 3</figcaption></figure><p id="9f3b" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Is <a class="af pu" href="https://dspy-docs.vercel.app/" rel="noopener ugc nofollow" target="_blank">DSPy</a>, pronounced as <em class="pv">dee-s-pie</em>, the new framework from <a class="af pu" href="https://nlp.stanford.edu/" rel="noopener ugc nofollow" target="_blank">Stanford NLP</a>, for programming language models less than an ideal innovation? Is it a replacement, as some of its proponents aver, to prompt engineering techniques? Lastly, is the goal of framework attainable by replacing the artful and skillful yet tedious and fragile prompt construction in favor of systematic, modular, and composable programs?</p><p id="600a" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">In this article, I examine what’s about DSPy that is promising and confusing, what’s lacking and needs improving; and how it can construct modular pipelines to interact with LLMs. Through a few end-to-end prompting examples, I’ll convert established prompting techniques to equivalent DSPy modular versions and asses its merit along the way. You can peruse these IPython notebooks on Google Colab and Python apps on GitHub.</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc pw"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWurZcVKTStUjy-AZ4xG4Q.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*MWurZcVKTStUjy-AZ4xG4Q.png 640w, https://miro.medium.com/v2/resize:fit:720/1*MWurZcVKTStUjy-AZ4xG4Q.png 720w, https://miro.medium.com/v2/resize:fit:750/1*MWurZcVKTStUjy-AZ4xG4Q.png 750w, https://miro.medium.com/v2/resize:fit:786/1*MWurZcVKTStUjy-AZ4xG4Q.png 786w, https://miro.medium.com/v2/resize:fit:828/1*MWurZcVKTStUjy-AZ4xG4Q.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*MWurZcVKTStUjy-AZ4xG4Q.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*MWurZcVKTStUjy-AZ4xG4Q.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="391" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 1a.</strong><a class="af pu" href="https://github.com/dmatrix/genai-cookbook/tree/main/dspy#python-notebooks" rel="noopener ugc nofollow" target="_blank"> Python DSPy notebooks</a> showcasing how to use DSPy modules</figcaption></figure><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qc"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Qjchl6iKMaByWh1LUpv4Q.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*1Qjchl6iKMaByWh1LUpv4Q.png 640w, https://miro.medium.com/v2/resize:fit:720/1*1Qjchl6iKMaByWh1LUpv4Q.png 720w, https://miro.medium.com/v2/resize:fit:750/1*1Qjchl6iKMaByWh1LUpv4Q.png 750w, https://miro.medium.com/v2/resize:fit:786/1*1Qjchl6iKMaByWh1LUpv4Q.png 786w, https://miro.medium.com/v2/resize:fit:828/1*1Qjchl6iKMaByWh1LUpv4Q.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*1Qjchl6iKMaByWh1LUpv4Q.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*1Qjchl6iKMaByWh1LUpv4Q.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="377" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 1b</strong>. <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/tree/main/dspy#python-apps" rel="noopener ugc nofollow" target="_blank">Python DSPy apps </a>showcasing how to use DSPy modules</figcaption></figure><h1 id="bea4" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">DSPy Programming Model</h1><p id="0710" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">The ML community is quickly advancing in techniques for prompting language models (LMs) and integrating them into pipelines to tackle complex tasks. However, current LM pipelines often rely on hard-coded “prompt templates,” which are lengthy, fragile, brittle and hand-crafted prompts developed through trial and error [1].</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*T4YBn6UXXQ3byHl6 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*T4YBn6UXXQ3byHl6 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*T4YBn6UXXQ3byHl6 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*T4YBn6UXXQ3byHl6 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*T4YBn6UXXQ3byHl6 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*T4YBn6UXXQ3byHl6 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T4YBn6UXXQ3byHl6 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*T4YBn6UXXQ3byHl6 640w, https://miro.medium.com/v2/resize:fit:720/0*T4YBn6UXXQ3byHl6 720w, https://miro.medium.com/v2/resize:fit:750/0*T4YBn6UXXQ3byHl6 750w, https://miro.medium.com/v2/resize:fit:786/0*T4YBn6UXXQ3byHl6 786w, https://miro.medium.com/v2/resize:fit:828/0*T4YBn6UXXQ3byHl6 828w, https://miro.medium.com/v2/resize:fit:1100/0*T4YBn6UXXQ3byHl6 1100w, https://miro.medium.com/v2/resize:fit:1400/0*T4YBn6UXXQ3byHl6 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="268" loading="lazy" role="presentation"/></picture></div></div></figure><p id="a022" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Researchers Omar Khatab and Arnav Singhvi et al., of <a class="af pu" href="https://nlp.stanford.edu/" rel="noopener ugc nofollow" target="_blank">Stanford NLP</a> group, argue that this approach, though common, can be brittle, fragile, and unscalable, akin to hand-tuning classifier weights. Also, a specific or an elaborate string prompt may not generalize well to different pipelines, language models, data domains, or inputs [2].</p><p id="b04e" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Hence, they propose a more declarative, systematic and programmatic approach to interface with language models–something that PyTorch and Python developers are accustomed to in developing machine learning (ML) programs and ML related concepts.</p><p id="df15" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">The DSPy programming model comprises three high-level abstractions: signatures, modules, and teleprompters (aka optimizers). Signatures abstract and dictate the input/output behavior of a module; modules replace existing hand-prompting techniques and can be composed as arbitrary pipelines; and teleprompters, through compilation, optimize all modules in the pipeline to maximize a metric [3].</p><p id="9a2a" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Let’s start with Signatures first.</p><h1 id="6163" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Signatures abstract away prompting</h1><p id="ac0b" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">A DSPy signature is a natural-language typed function declaration: a concise specification describing <em class="pv">what</em> a text transformation should achieve (e.g., “consume questions and return answers”), rather than detailing <em class="pv">how</em> a specific LM should be prompted to perform that task.</p><p id="12d7" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">As such they have two advantages over prompts. First, they can be compiled into self-improving, pipeline-adaptive prompts or fine-tuned by bootstrapping useful examples for each signature. Second, they manage structured formatting and parsing logic, reducing or ideally eliminating brittle string manipulation in user programs [4].</p><blockquote class="qe qf qg"><p id="d213" class="of og pv oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">“A signature is a declarative specification of input/output behavior of a DSPy module. Signatures allow you to tell the LM <em class="gu">what</em> it needs to do, rather than specify <em class="gu">how</em> we should ask the LM to do it,” states the docs. [5]</p></blockquote><p id="e027" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">For instance, you can declaratively define a DSPy Signature object using a shorthand string notation as an argument. Effectively, this Signature now is declaring a task as a concise prompt: given a question, return an answer. In short, this shorthand notation is your declarative replacement of a prompt for a simple task. Here are a few examples of shorthand notations:</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="390f" class="ql nk gu qi b bg qm qn l qo qp">import dspy<br/>sig_1 = dspy.Signature(“question -&gt; answer”)<br/>sig_2 = dspy.Signature(“document -&gt; summary”)<br/>sig_3 = dspy.Signature(“question, context -&gt; answer”)</span></pre><p id="46a4" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Aside from in-line shorthand notation to declare tasks, you can define a class-based Signature, giving you more control over the input/output fields format, style, and descriptive task description. The task description is a Python doc string in the class definition. And the format, style or behavior of the output can be a descriptive and declarative argument to the <em class="pv">dspy.OutputField,</em> making it easier to tweak it, rather than part of a larger prompt.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="f089" class="ql nk gu qi b bg qm qn l qo qp">class BasicQA(dspy.Signature):<br/>  “””Answer questions with short factoid answers”””<br/><br/>  question = dspy.InputField()<br/>  answer = dspy.OutputField(desc=”often between 1 and 5 words”,<br/>                            prefix=”Question’s Answer:”)</span></pre><p id="59b8" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Internally, DSPy, converts both above declarative formats into a prompt for the underlying LLM as shown in Figure 2. Optionally, using DSPy teleprompters (optimizers), these prompts can be compiled to iteratively generate an optimized LLM prompt (see the section below on Optimizers), akin to how you would optimize an ML model with learning optimizers, such as SGD, in an ML framework like PyTorch.</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qq"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*ilY0hNBdkCfNck4S 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*ilY0hNBdkCfNck4S 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*ilY0hNBdkCfNck4S 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*ilY0hNBdkCfNck4S 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*ilY0hNBdkCfNck4S 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*ilY0hNBdkCfNck4S 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ilY0hNBdkCfNck4S 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*ilY0hNBdkCfNck4S 640w, https://miro.medium.com/v2/resize:fit:720/0*ilY0hNBdkCfNck4S 720w, https://miro.medium.com/v2/resize:fit:750/0*ilY0hNBdkCfNck4S 750w, https://miro.medium.com/v2/resize:fit:786/0*ilY0hNBdkCfNck4S 786w, https://miro.medium.com/v2/resize:fit:828/0*ilY0hNBdkCfNck4S 828w, https://miro.medium.com/v2/resize:fit:1100/0*ilY0hNBdkCfNck4S 1100w, https://miro.medium.com/v2/resize:fit:1400/0*ilY0hNBdkCfNck4S 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="291" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 2.</strong> Class-based declarative signature translation into an LLM prompt</figcaption></figure><p id="d436" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Using the above class-based Signature is simple and intuitive.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="db02" class="ql nk gu qi b bg qm qn l qo qp">generate_response  = dspy.Predict(BasicQA)<br/>pred = generate_resonse(question=”When was the last Solar Eclipse in the United States, and what states were covered in total darkness?”<br/>print(f”Answer: {pred.answer}”)</span></pre><p id="c4f8" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk"><strong class="oh nl">👍👍👍:</strong> ​​Using a task description as a Python class docstring or shorthand notation to generate an LLM prompt, without hand-crafting a prompt, aligns with a key DSPy framework assertion. It feels like Python programming, not manual hand-crafting delicate prompts. Converting some prompting technique examples above in Figures 1(a) and 1(b) instilled and inspired that sense in me.</p><p id="adc3" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">While the <a class="af pu" href="https://dspy-docs.vercel.app/docs/building-blocks/signatures" rel="noopener ugc nofollow" target="_blank"><em class="pv">dspy.Signature</em> </a>class is the core building block, DSPy also includes built-in modules that effectively translate well to prompting techniques like chain of thought, ReAct, RAG, program of thought, and complex reasoning.</p><p id="124d" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">At the heart of all these modules is the<em class="pv"> </em><a class="af pu" href="https://dspy-docs.vercel.app/api/modules/Predict" rel="noopener ugc nofollow" target="_blank"><em class="pv">dspy.Predict</em> </a>module, which all modules, including Signature, invoke through their <em class="pv">forward() </em>function call. Internally, Predict stores the Signature and uses it to construct a prompt.</p><p id="6452" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Let’s explore these modules next.</p><h1 id="8e1a" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Modules Build Complex Pipelines</h1><p id="6092" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">According to the DSPy documentation, a DSPy module is a fundamental building block for DSPy pipelines or programs that use language models. Each module abstracts a prompting technique, such as chain of thought or ReAct, and is generalized to handle any DSPy Signature.</p><p id="b3df" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Modules can have learnable parameters, including prompt components and LM weights. As callable classes, they can be invoked with inputs and return outputs. Because they are building blocks, multiple modules can be combined into larger composable programs as pipelines. Inspired by NN modules in PyTorch, DSPy modules are designed for LLM programs [6].</p><p id="4cd2" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">As callable classes, modules can be invoked with inputs and return outputs. Because they are building blocks, multiple modules can be combined into larger programs as pipelines. Inspired by NN modules in PyTorch, DSPy modules are designed for LLM programs.</p><p id="dce1" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Think of modules as a smart shortcut to simplify complex prompting techniques. They’re like prefabricated blocks you can snap together to build your program. Creating your own modules is encouraged and is the core way to construct <a class="af pu" href="https://www.databricks.com/blog/optimizing-databricks-llm-pipelines-dspy" rel="noopener ugc nofollow" target="_blank">complex data pipeline programs </a>in DSPy. These modules can function as standalone or combined as pipelines for more complex tasks, and they can be used in various applications [7].</p><p id="3713" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">For instance, I can define a standalone <em class="pv">ChainOfThought</em> module using shorthand Signature notation.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="a9b7" class="ql nk gu qi b bg qm qn l qo qp">class ChainOfThought(dspy.Module):<br/> def __init__( self, signature):<br/>  super().__init__()<br/>  self.predict = dspy.Signature(signature)<br/><br/> # overwrite the forward function<br/> def forward(self, **kwargs):<br/>  return self.predict(**kwargs)<br/><br/># create an instance of class with shorthand Signature notation<br/># as argument<br/>cot_generate = ChainOfThought(“context, question → answer”)<br/><br/># call the instance with input parameters specified in the<br/># signature<br/>response = cot_generate(“context=....”, <br/>   “question=How to compute area of a triangle with height 5 feet and width 3 feet.”<br/>print(f”Area of triangle: {response.answer}”)</span></pre><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div class="pb pc qr"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*BQ0qY5yd9m2GWhO9 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*BQ0qY5yd9m2GWhO9 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*BQ0qY5yd9m2GWhO9 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*BQ0qY5yd9m2GWhO9 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*BQ0qY5yd9m2GWhO9 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*BQ0qY5yd9m2GWhO9 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BQ0qY5yd9m2GWhO9 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*BQ0qY5yd9m2GWhO9 640w, https://miro.medium.com/v2/resize:fit:720/0*BQ0qY5yd9m2GWhO9 720w, https://miro.medium.com/v2/resize:fit:750/0*BQ0qY5yd9m2GWhO9 750w, https://miro.medium.com/v2/resize:fit:786/0*BQ0qY5yd9m2GWhO9 786w, https://miro.medium.com/v2/resize:fit:828/0*BQ0qY5yd9m2GWhO9 828w, https://miro.medium.com/v2/resize:fit:1100/0*BQ0qY5yd9m2GWhO9 1100w, https://miro.medium.com/v2/resize:fit:1400/0*BQ0qY5yd9m2GWhO9 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="342" loading="lazy" role="presentation"/></picture></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 3. </strong>Module with a shorthand signature generated as an LLM prompt [8]</figcaption></figure><p id="43dc" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Let’s take this notion one step further and build a composable pipeline using the building block we defined above, along with a built-in <a class="af pu" href="https://github.com/stanfordnlp/dspy/blob/main/dspy/retrieve/retrieve.py" rel="noopener ugc nofollow" target="_blank"><em class="pv">dspy.Retriever</em></a> module to illustrate how you can create a composable pipeline as a RAG DSPy program.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="f94c" class="ql nk gu qi b bg qm qn l qo qp">class RAGSignature(dspy.Signature):<br/>      &quot;&quot;&quot;<br/>      Given a context and question, answer the question.<br/>      &quot;&quot;&quot;<br/>      context = dspy.InputField()<br/>      question = dspy.InputField()<br/>      answer = dspy.OutputField()<br/>    <br/>class RAG(dspy.Module) :<br/>      def __init__ ( self , num_passages=3) :<br/>          super().__init__()<br/>          # Retrieve will use the user’s default retrieval settings <br/>          # unless overridden .<br/>          self.retrieve = dspy.Retrieve(k=num_passages)<br/><br/>          # ChainOfThought with signature that generates <br/>          # answers given retrieval context &amp; question .<br/>          self.generate_answer = dspy.ChainOfThought(RAGSignature)<br/><br/>       def forward (self, question) :<br/>           context = self.retrieve (question).passages<br/>           return self.generate_answer(context=context, question=question)</span></pre><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qs"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*jMG9tEdHG1gB60H- 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*jMG9tEdHG1gB60H- 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*jMG9tEdHG1gB60H- 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*jMG9tEdHG1gB60H- 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*jMG9tEdHG1gB60H- 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*jMG9tEdHG1gB60H- 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jMG9tEdHG1gB60H- 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*jMG9tEdHG1gB60H- 640w, https://miro.medium.com/v2/resize:fit:720/0*jMG9tEdHG1gB60H- 720w, https://miro.medium.com/v2/resize:fit:750/0*jMG9tEdHG1gB60H- 750w, https://miro.medium.com/v2/resize:fit:786/0*jMG9tEdHG1gB60H- 786w, https://miro.medium.com/v2/resize:fit:828/0*jMG9tEdHG1gB60H- 828w, https://miro.medium.com/v2/resize:fit:1100/0*jMG9tEdHG1gB60H- 1100w, https://miro.medium.com/v2/resize:fit:1400/0*jMG9tEdHG1gB60H- 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="539" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 4:</strong> Composable DSPy RAG program module pipeline with Retrieve and ChainOfThought</figcaption></figure><p id="53fc" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">To see full implementation of a Naive RAG with DSPy modules peruse the links in Figures 1(a) and 1(b).</p><p id="498e" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk"><strong class="oh nl">👍👍👍: </strong>DSPy modules are Python declarative code, encapsulating your task logic (of<em class="pv"> what-to-do</em> not <em class="pv">how-to-do</em>), behavior, input/output format, style and any custom code. No need to write a novel as an elaborate prompt, no need to belabor trial and error with the prompts. Rather, construct your flow as a pipeline of composable blocks. I rather enjoyed writing Python code than English, albeit I do love writing. And let DSPy do the work in generating the prompt and interfacing with the language model.</p><p id="d60f" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Mapping well to the common prompting techniques, the built-in modules, listed in the table below, are extensible and customizable. At the time of this writing, the following DSPy modules were available:</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qt"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eTlKCUQojNevW5NnUYl_JA.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*eTlKCUQojNevW5NnUYl_JA.png 640w, https://miro.medium.com/v2/resize:fit:720/1*eTlKCUQojNevW5NnUYl_JA.png 720w, https://miro.medium.com/v2/resize:fit:750/1*eTlKCUQojNevW5NnUYl_JA.png 750w, https://miro.medium.com/v2/resize:fit:786/1*eTlKCUQojNevW5NnUYl_JA.png 786w, https://miro.medium.com/v2/resize:fit:828/1*eTlKCUQojNevW5NnUYl_JA.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*eTlKCUQojNevW5NnUYl_JA.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*eTlKCUQojNevW5NnUYl_JA.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="477" loading="lazy" role="presentation"/></picture></div></div></figure><p id="1ec5" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">What’s even better is that, like ML models, you can optimize these modules for efficient prompt generation and response evaluation with DSPy optimizers through compilation. Let’s examine how to achieve that next.</p><h1 id="7f5e" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Optimizing and Compiling Modules</h1><p id="8ba5" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Just like PyTorch optimizers, like SGD, for minimizing loss and maximizing accuracy in ML, the DSPy optimizers API allows you to provide training examples and an evaluation metric to measure accuracy. If you’re familiar with PyTorch, this concept will resonate.</p><p id="6d12" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Optimizers take in a training set (to bootstrap a few selective examples to learn how to generate the prompt) and a metric (to measure proximity to or match correct response); they generate an instance of an optimized program that can be used to compile a DSPy program module. Currently, DSPy supports a number of<a class="af pu" href="https://dspy-docs.vercel.app/docs/building-blocks/optimizers" rel="noopener ugc nofollow" target="_blank"> built-in optimizers</a>, each with a degree of rigor to maximize your metric.</p><p id="b025" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Best to illustrate with some example code. Consider a small training set of examples that you want to use to train a DSPy module to conduct sentiment analysis. In prompt engineering, this is akin to a few-shot learning technique as part of the larger in-context prompt.</p><p id="4be4" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">The response from the module, after interfacing with the target language model, is either positive, negative, or neutral. Your metric can, then, check if the answer returned is one of those class sentiment categories–or something bogus.</p><p id="7ae2" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Let’s create a short training set, metric, and module. Note that ​​metrics can be as simple as returning a numeric score (like 0 or 1), an exact match (EM) or F1, as well as an entire DSPy program that balances and measures multiple concerns in the prediction.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="966a" class="ql nk gu qi b bg qm qn l qo qp"># Evaluate a metric for the right response category<br/>def evaluate_sentiment(example, pred, trace=None)-&gt;bool:<br/>  return pred in [“positive”, “negative”, “neutral”]<br/><br/>def get_examples() -&gt; List[dspy.Example]:<br/>  trainset = [dspy.Example(sentence=”””This movie is a true cinematic gem, <br/>                                     blending an engaging plot with superb performances and stunning visuals. A masterpiece that leaves a lasting impression”””,<br/>                            sentiment=”positive”).with_inputs(“sentence”),<br/>              dspy.Example(sentence=”””Regrettably, the film failed to live<br/>                                     up to expectations, with a convoluted <br/>                                     storyline, lackluster acting, and <br/>                                     uninspiring cinematography. <br/>                                     disappointment overall.”””<br/>                             sentiment=”negative”).with_inputs(“sentence”)<br/>              dspy.Example(sentence=”””The movie had its moments, offering<br/>                                     a decent storyline and average <br/>                                     performances. While not groundbreaking,<br/>                                     it provided an enjoyable viewing <br/>                                     experience.”””,<br/>                            sentiment=”neutral”).with_inputs(“sentence”)<br/><br/>             ...<br/>           ]<br/>      return trainset<br/><br/># define our DSPy module that you want to optimize and compile<br/>class ClassifyEmotion(dspy.Signature):<br/>  “”” classify emotion based on the input sentence and provide the sentiment as output”&quot;&quot;<br/>   sentence = dspy.InputField()<br/>   sentiment = dspy.OutputField(desc=”generate sentiment as <br/>   positive, negative or neutral”)</span></pre><pre class="qu qh qi qj bp qk bb bk"><span id="5508" class="ql nk gu qi b bg qm qn l qo qp">from dspy.teleprompt import BootstrapFewShot<br/><br/># Create an optimizer<br/>optimizer = BootstrapFewShot(metric=evaluate_sentiment,<br/>trainset=get_examples())<br/>compiled_classifier = optimizer.compile(ClassifyEmotion(), <br/>trainset=get_examples()<br/><br/># Use our compiled classifier that has learned through bootstrapping <br/># a few examples how to generate the response<br/>response = compiled_classifier(sentence=&quot;I can&#x27;t believe how beautiful the sunset was tonight! The colors were breathtaking and it really made my day&quot;<br/>print(response.sentiment).</span></pre><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qv"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*eLyoBm5XaBazlbU1 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*eLyoBm5XaBazlbU1 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*eLyoBm5XaBazlbU1 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*eLyoBm5XaBazlbU1 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*eLyoBm5XaBazlbU1 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*eLyoBm5XaBazlbU1 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eLyoBm5XaBazlbU1 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*eLyoBm5XaBazlbU1 640w, https://miro.medium.com/v2/resize:fit:720/0*eLyoBm5XaBazlbU1 720w, https://miro.medium.com/v2/resize:fit:750/0*eLyoBm5XaBazlbU1 750w, https://miro.medium.com/v2/resize:fit:786/0*eLyoBm5XaBazlbU1 786w, https://miro.medium.com/v2/resize:fit:828/0*eLyoBm5XaBazlbU1 828w, https://miro.medium.com/v2/resize:fit:1100/0*eLyoBm5XaBazlbU1 1100w, https://miro.medium.com/v2/resize:fit:1400/0*eLyoBm5XaBazlbU1 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="367" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 5:</strong> Set of artifacts for the compiler to generate optimized prompts [12]</figcaption></figure><p id="631f" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Internally, all the above achieves the following:</p><ol class=""><li id="005e" class="of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa qw qx qy bk">Bootstrap our trainset to learn using few-shot in-context prompting</li><li id="23d1" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk">Use the metric to evaluate if the output predicts one of the three sentiment categories</li><li id="70f9" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk">Compile the DSPy module</li><li id="b2f4" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk">Generate prompts</li><li id="ac3e" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk">Use the compiled classifier to classify our sentences with the best prompt</li></ol><p id="f0a0" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Omar Khattab and Arnav Singhvi et al. describe the above optimizing and compiling process undergoing three stages [13]:</p><ol class=""><li id="0239" class="of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa qw qx qy bk"><strong class="oh nl">Candidate generation</strong>: select the candidate predictor module, if more than one.</li><li id="b234" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk"><strong class="oh nl">Parameter optimization: </strong>select candidates’ instructions or demonstrations in the prompts and then optimize with different LM weights for the best response.</li><li id="3596" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa qw qx qy bk"><strong class="oh nl">Higher-Order program optimization: </strong>think of these as a language compiler code optimization where code is rearranged for better execution. In DSPy, complicated pipelines are simplified as ensembles and rearranged to alter the control flow.</li></ol><p id="00fc" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">To see how the DSPy framework optimized and tuned your prompts, simply print the history of all generated prompts with this command, where n &gt; 0.</p><pre class="pe pf pg ph pi qh qi qj bp qk bb bk"><span id="b078" class="ql nk gu qi b bg qm qn l qo qp">your_model.inpspect_history(n=3)</span></pre><p id="a8b6" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">This will print out three different optimized prompts generated for the LLM. To see a full example of a few-shot example with optimizer and compilation, peruse the notebook or Python app on ReAct tasks in Figures 1(a) and 1(b).</p><p id="07ff" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Another discussion by Frederick Ros examines tuning and optimizing DSPy modules [14]. Lastly, Omar Khattab et al, offer a couple of case studies with empirical data to suggest that optimized and compiled modules offer tangible efficiency, performance, and accuracy over unoptimized ones with respect to quantifiable measurements for complex reasoning tasks [15].</p><p id="d11a" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">👎: The concept of optimizers and compilers in the DSPy framework can be difficult to understand, seem non-intuitive, and mysterious as a black box. Although they deliver their objectives, they fall short in clarity and simplicity: why not conflate optimize and compile as a single API call instead of two separate phases. Also, documentation is scanty with no explicit examples or illustrations that shed light into darkness and bring it to sharper focus.</p><p id="ecf9" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">All assets I examined so far–documentation and published blogs–come short to lucidly explain this powerful notion. For this concept is central to self-improvement and optimization aspect of the framework. With absence of clear cut examples and practical use cases, this concept eluded me to elicit the WOW 🤯 appeal in me.</p><h1 id="0f0b" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">DSPy End-to-end Example Programs</h1><p id="6eb2" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Programming frameworks, write Omar Khattab and Arnav Singhvi et al., can be evaluated along many dimensions, including computational efficiency, developer efficiency, intuitiveness of the code and concepts, etc. The authors evaluate the DSPy programming framework along three hypotheses [15]:</p><ul class=""><li id="60ee" class="of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa re qx qy bk"><strong class="oh nl">H1</strong>: With DSPy, we can replace hand-crafted prompt strings with concise and well-defined modules, without reducing quality or expressive power.</li><li id="9826" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><strong class="oh nl">H2: </strong>Parameterizing the modules and treating prompting as an optimization problem makes DSPy better at adapting to different LMs, and it may outperform expert-written prompts.</li><li id="d370" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><strong class="oh nl">H3:</strong> The resulting modularity makes it possible to more thoroughly explore complex pipelines that have useful performance characteristics or that fit nuanced metrics.</li></ul><p id="86ba" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">I used the DSPy framework to convert all my examples from a previously published <a class="af pu" rel="noopener" href="/the-modern-scientist/best-prompt-techniques-for-best-llm-responses-24d2ff4f6bca">Prompt Engineering blog</a> with explicit and elaborate prompts techniques. Using the local <a class="af pu" href="https://www.ollama.com/" rel="noopener ugc nofollow" target="_blank">OLama language model</a> and DSPy’s built-in tools like <a class="af pu" href="https://dspy-docs.vercel.app/api/category/retrieval-model-clients" rel="noopener ugc nofollow" target="_blank">Retrievers</a>, I was able to modularize and construct complex-pipelines for complex reasoning tasks.</p><h1 id="7d80" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">NLP Tasks</h1><p id="6ed0" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">I used DSPy declarative signatures to express <em class="pv">how-to</em> code examples for common natural language understanding capabilities of a generalized LLM, such as ChatGPT, OLlama, Mistral, and Llama 3 series:</p><ul class=""><li id="95f6" class="of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa re qx qy bk">Text generation or completion</li><li id="17a2" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Text summarization</li><li id="d949" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Text extraction</li><li id="dc31" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Text classification or sentiment analysis</li><li id="f2ae" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Text categorization</li><li id="e3c0" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Text transformation and translation</li><li id="478b" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk">Simple and complex reasoning</li></ul><p id="7486" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">To that end, the DSPy modules were up to the task. Code is modular, declarative, and no storytelling with prompts; no need for the <a class="af pu" href="https://towardsdatascience.com/how-i-won-singapores-gpt-4-prompt-engineering-competition-34c195a93d41" rel="noopener" target="_blank">CO-STAR prompt </a>framework to hand-craft an elaborate prompt. See notebooks and Python apps in Figures 1(a) and 1(b) in <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/main/dspy/README.md" rel="noopener ugc nofollow" target="_blank">GenAI Cookbook GitHub Repository</a>.</p><h1 id="a29e" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Program of Thought Task</h1><p id="e1d9" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Program of thought prompting, like chain of thought, for LLMs involves providing a sequence of reasoning steps in the prompt to guide the model toward a solution. This technique helps the model to process complex problems by breaking them down into intermediate steps, much like a human would. By mimicking human-like reasoning, chain of thought prompting improves the model’s ability to handle tasks that require logic, deduction, and programming.</p><p id="bd79" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Using DSPy Program of Thought (PoT) Module <a class="af pu" href="https://dspy-docs.vercel.app/docs/deep-dive/modules/program-of-thought" rel="noopener ugc nofollow" target="_blank"><em class="pv">dspy.ProgramOfThought</em></a>, most of these examples generate Python code to solve the problem. Hardly, any need to specify elaborate prompts, just a concise task description.</p><p id="1623" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">See notebooks and Python apps in Figures 1(a) and 1(b) in <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/main/dspy/README.md" rel="noopener ugc nofollow" target="_blank">GenAI Cookbook GitHub Repository</a>.</p><h1 id="795e" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Naive RAG</h1><p id="29ad" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Amazingly easy and modular, DSPy Modules can be chained or stacked to create a pipeline. In our case, building a Naive RAG comprises using <em class="pv">dspy.Signature</em> and <em class="pv">dspy.ChainOfThought</em>, and module class RAG (see implementation in <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/6c8e7e10f017da39aed5afd107b351f322ddd968/dspy/dspy_utils.py" rel="noopener ugc nofollow" target="_blank">dspy_utils</a>.)</p><p id="8cc8" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Out of the box, DSPy supports a set of <a class="af pu" href="https://dspy-docs.vercel.app/api/category/retrieval-model-clients" rel="noopener ugc nofollow" target="_blank">Retrievers clients</a>. For this example, I used the supported <em class="pv">dspy.ColBERTv2</em> tool.</p><p id="1943" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">See notebooks and Python apps in Figures 1(a) and 1(b) in <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/main/dspy/README.md" rel="noopener ugc nofollow" target="_blank">GenAI Cookbook GitHub Repository</a>.</p><h1 id="461e" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">ReAct Tasks</h1><p id="a0e9" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">First introduced in a paper by <a class="af pu" href="https://arxiv.org/abs/2210.03629" rel="noopener ugc nofollow" target="_blank">Yao et al., 2022</a>, ReAct is a reasoning and acting paradigm that guides LLM to respond in a structured manner to complex queries. Reasoning and actions are interleaved and progressive, in the manner of chain of thought, so that LLM progresses from one result to another, using the previous answer.</p><p id="4435" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Results suggest that ReAct outperforms other leading methods in language and decision-making tasks, enhancing human understanding and trusting in large language models (LLMs). It is best when combined with chain-of-thought (CoT) steps as individual tasks with results being used for the next step, utilizing both internal knowledge and external information during reasoning.</p><p id="a196" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">This task was a DSPy conversion of <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/6c8e7e10f017da39aed5afd107b351f322ddd968/llm-prompts/7_how_to_use_react_prompt.ipynb" rel="noopener ugc nofollow" target="_blank">LLM ReAct prompting notebook</a>.</p><p id="bbcd" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">See notebooks and Python apps in Figures 1(a) and 1(b) in <a class="af pu" href="https://github.com/dmatrix/genai-cookbook/blob/main/dspy/README.md" rel="noopener ugc nofollow" target="_blank">GenAI Cookbook GitHub Repository</a>.</p><p id="78f0" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk"><strong class="oh nl">👍👍👍: </strong>In the all above prompt engineering tasks, the DSPy’s creators’ hypotheses <strong class="oh nl">H1 </strong>and<strong class="oh nl"> H3 </strong>seem<strong class="oh nl"> </strong>to hold up well and meet my expectations. However,<strong class="oh nl"> H2</strong> is a bit unclear and unintuitive, and I was unable to get my head around it, as I lament above in the optimizing and compiling section. To some extent the mapping of DSPy modules to common prompting tasks worked, underpinning <strong class="oh nl">H1 </strong>and <strong class="oh nl">H2</strong>.</p><h1 id="1e19" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">Conclusion</h1><p id="fb4d" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">In this article, we covered DSPy framework and programming model, an innovative, declarative, systematic, and modular way to program and interface with language models instead of using explicit and elaborate prompts. Through elaborate examples of prompt engineering techniques explored in my <a class="af pu" rel="noopener" href="/the-modern-scientist/best-prompt-techniques-for-best-llm-responses-24d2ff4f6bca">previous blog,</a> I converted prompting techniques into their equivalent DSPy programs.</p><p id="abe3" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Along the way, I praised many aspects of DSPy that appealed to me and may also appeal to Python developers accustomed to declarative methods of programming. I pointed out some of its shortcomings with respect to the concepts, documented examples, and lack of use cases. Two out of three hypotheses explored in the original paper seem to hold up well during my programmatic endeavor: converting elaborate and explicit prompt engineering techniques and constructing modular and declarative DSPy programs.</p><p id="9cbb" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Is the new framework from <a class="af pu" href="https://nlp.stanford.edu/" rel="noopener ugc nofollow" target="_blank">Stanford NLP</a>, for programming language models less than an ideal innovation? Will it fade into irrelevance?</p><p id="6f05" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">I don’t think so. While it has not exploded in popularity like other LLM frameworks such as LangChain and LLamaIndex, it has an expanding community, growing presence on its <a class="af pu" href="https://github.com/stanfordnlp/dspy" rel="noopener ugc nofollow" target="_blank">GitHub</a> (with 924 forks, 150 contributors, and over 12K stars), and gathering lively <a class="af pu" href="https://www.reddit.com/r/LocalLLaMA/comments/1cplfph/who_is_using_dspy/" rel="noopener ugc nofollow" target="_blank">discussions on Reddit</a> and <a class="af pu" href="https://discord.com/channels/1161519468141355160/1202371014240251944" rel="noopener ugc nofollow" target="_blank">discord forum,</a> so not likely to fade into irrelevance either.</p><figure class="pe pf pg ph pi pj pb pc paragraph-image"><div role="button" tabindex="0" class="px py fj pz bh qa"><div class="pb pc qq"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*Q-fqCfceL5_Ol5FW 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*Q-fqCfceL5_Ol5FW 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*Q-fqCfceL5_Ol5FW 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*Q-fqCfceL5_Ol5FW 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*Q-fqCfceL5_Ol5FW 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*Q-fqCfceL5_Ol5FW 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q-fqCfceL5_Ol5FW 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*Q-fqCfceL5_Ol5FW 640w, https://miro.medium.com/v2/resize:fit:720/0*Q-fqCfceL5_Ol5FW 720w, https://miro.medium.com/v2/resize:fit:750/0*Q-fqCfceL5_Ol5FW 750w, https://miro.medium.com/v2/resize:fit:786/0*Q-fqCfceL5_Ol5FW 786w, https://miro.medium.com/v2/resize:fit:828/0*Q-fqCfceL5_Ol5FW 828w, https://miro.medium.com/v2/resize:fit:1100/0*Q-fqCfceL5_Ol5FW 1100w, https://miro.medium.com/v2/resize:fit:1400/0*Q-fqCfceL5_Ol5FW 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh mq pk c" width="700" height="265" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pl ff pm pb pc pn po bf b bg z du"><strong class="bf qb">Figure 6 </strong>Comparison searches of DSPy with LlamaIndex and LangChain</figcaption></figure><p id="70d5" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">Is it a replacement, as some of its proponents aver, to prompt engineering techniques? It’s a likely optional preference where applicable with tangible use cases that demonstrate its efficacy and usage. If more GenAI, Data, AI pioneer companies like <a class="af pu" href="https://www.databricks.com/blog/optimizing-databricks-llm-pipelines-dspy" rel="noopener ugc nofollow" target="_blank">Databricks showcase its usage with their ecosystem</a>, or a well-funded startup company behind DSPy emerges, we are likely to see wider usage.</p><p id="66f0" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">A total replacement of any technological innovation is a hyperbolic claim; total replacement is only attained over time, not overnight. Not likely that DSPy will immediately dislodge or displace skillful and hand-crafted prompts and prompt template engineering yet.</p><h1 id="ec82" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">What’s Next?</h1><p id="be54" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">Meanwhile, if you missed my sequence of blog series on <a class="af pu" href="https://github.com/dmatrix/genai-cookbook?tab=readme-ov-file#current-blogs-on-this-cookbook" rel="noopener ugc nofollow" target="_blank">GenAI Cookbook</a> on LLMs, take a read:</p><ul class=""><li id="4dad" class="of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa re qx qy bk"><a class="af pu" rel="noopener" href="/the-modern-scientist/best-prompt-techniques-for-best-llm-responses-24d2ff4f6bca">Best Prompt Techniques for Best LLM Responses</a></li><li id="1704" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><a class="af pu" rel="noopener" href="/@2twitme/llm-beyond-its-core-capabilities-as-ai-assistants-or-agents-704ffb972934">LLM Beyond its Core Capabilities as AI Assistants or Agents</a></li><li id="f106" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><a class="af pu" rel="noopener" href="/@2twitme/crafting-intelligent-user-experiences-a-deep-dive-into-openai-assistants-api-00439ace108a">Crafting Intelligent User Experiences: A Deep Dive into OpenAI Assistants API</a></li><li id="7a89" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><a class="af pu" rel="noopener" href="/@2twitme/an-intuitive-101-guide-to-vector-embeddings-ffde295c3558">An Intuitive 101 Guide to Vector Embeddings</a></li><li id="73d1" class="of og gu oh b hs qz oj ok hv ra om on oo rb oq or os rc ou ov ow rd oy oz pa re qx qy bk"><a class="af pu" rel="noopener" href="/@2twitme/an-exploratory-tour-of-retrieval-augmented-generation-rag-paradigm-3940c1947d27">An Exploratory Tour of Retrieval Augmented Generation (RAG) Paradigm</a></li></ul><p id="514e" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">To stay abreast with updates or upcoming blogs, follow me on X <a class="af pu" href="https://twitter.com/2twitme" rel="noopener ugc nofollow" target="_blank">@2twitme</a> or <a class="af pu" href="https://www.linkedin.com/in/dmatrix/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>. Stay tuned for next blog on Assertions, Datasets, Examples, Evaluate, and more Compilers and Optimizers, as I attempt another go at it and get my head around it.</p><h1 id="5629" class="nj nk gu bf nl nm nn hu no np nq hx nr ns nt nu nv nw nx ny nz oa ob oc od oe bk">References and Resources</h1><p id="a132" class="pw-post-body-paragraph of og gu oh b hs oi oj ok hv ol om on oo op oq or os ot ou ov ow ox oy oz pa gn bk">[1, 2, 3, 4, 11, 13, 14, 15] <a class="af pu" href="https://arxiv.org/pdf/2310.03714" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/pdf/2310.03714</a></p><p id="ff70" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[5] <a class="af pu" href="https://dspy-docs.vercel.app/docs/building-blocks/signatures" rel="noopener ugc nofollow" target="_blank">https://dspy-docs.vercel.app/docs/building-blocks/signatures</a></p><p id="b126" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[6] <a class="af pu" href="https://dspy-docs.vercel.app/docs/building-blocks/modules" rel="noopener ugc nofollow" target="_blank">https://dspy-docs.vercel.app/docs/building-blocks/modules</a></p><p id="60a8" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[7, 8] <a class="af pu" href="https://www.theaidream.com/post/dspy-a-revolutionary-framework-for-programming-llms" rel="noopener ugc nofollow" target="_blank">https://www.theaidream.com/post/dspy-a-revolutionary-framework-for-programming-llms</a></p><p id="0241" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[9] <a class="af pu" href="https://dspy-docs.vercel.app/docs/building-blocks/modules#what-other-dspy-modules-are-there-how-can-i-use-them" rel="noopener ugc nofollow" target="_blank">https://dspy-docs.vercel.app/docs/building-blocks/modules#what-other-dspy-modules-are-there-how-can-i-use-them</a></p><p id="fba6" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[10] <a class="af pu" rel="noopener" href="/@frederick.ros/dspy-essentials-mastering-model-tuning-with-optimizers-32b1db951915">https://medium.com/@frederick.ros/dspy-essentials-mastering-model-tuning-with-optimizers-32b1db951915</a></p><p id="832b" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[12] <a class="af pu" href="https://towardsdatascience.com/intro-to-dspy-goodbye-prompting-hello-programming-4ca1c6ce3eb9" rel="noopener" target="_blank">https://towardsdatascience.com/intro-to-dspy-goodbye-prompting-hello-programming-4ca1c6ce3eb9</a></p><p id="0596" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[16] <a class="af pu" href="https://www.databricks.com/blog/optimizing-databricks-llm-pipelines-dspy" rel="noopener ugc nofollow" target="_blank">https://www.databricks.com/blog/optimizing-databricks-llm-pipelines-dspy</a></p><p id="b773" class="pw-post-body-paragraph of og gu oh b hs pp oj ok hv pq om on oo pr oq or os ps ou ov ow pt oy oz pa gn bk">[17] <a class="af pu" href="https://dspy-docs.vercel.app/docs/tutorials/examples" rel="noopener ugc nofollow" target="_blank">https://dspy-docs.vercel.app/docs/tutorials/examples</a></p></div></div></div></div></section></div></div></article></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="rf rg ab jm"><div class="rh ab"><a class="ri ay am ao" rel="noopener follow" href="/tag/llm?source=post_page-----711bc4a56376---------------llm-----------------"><div class="rj fj cx rk ge rl rm bf b bg z bk rn">Llm</div></a></div><div class="rh ab"><a class="ri ay am ao" rel="noopener follow" href="/tag/dspy?source=post_page-----711bc4a56376---------------dspy-----------------"><div class="rj fj cx rk ge rl rm bf b bg z bk rn">Dspy</div></a></div><div class="rh ab"><a class="ri ay am ao" rel="noopener follow" href="/tag/prompt-engineering?source=post_page-----711bc4a56376---------------prompt_engineering-----------------"><div class="rj fj cx rk ge rl rm bf b bg z bk rn">Prompt Engineering</div></a></div><div class="rh ab"><a class="ri ay am ao" rel="noopener follow" href="/tag/genai?source=post_page-----711bc4a56376---------------genai-----------------"><div class="rj fj cx rk ge rl rm bf b bg z bk rn">Genai</div></a></div><div class="rh ab"><a class="ri ay am ao" rel="noopener follow" href="/tag/python-programming?source=post_page-----711bc4a56376---------------python_programming-----------------"><div class="rj fj cx rk ge rl rm bf b bg z bk rn">Python Programming</div></a></div></div></div></div><div class="l"></div><footer class="ro rp rq rr rs rt ru rv rw ab q rx iw c"><div class="l ae"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab cp ry"><div class="ab q lh"><div class="rz l"><span class="l sa sb sc e d"><div class="ab q lh li"><div class="pw-multi-vote-icon fj jq lj lk ll"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fthe-modern-scientist%2F711bc4a56376&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=-----711bc4a56376---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="lm ao ln lo lp lq am lr ls lt ll"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l lu lv lw lx ly lz ma"><p class="bf b dv z du"><span class="mb">--</span></p></div></div></span><span class="l h g f sd se"><div class="ab q lh li"><div class="pw-multi-vote-icon fj jq lj lk ll"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fthe-modern-scientist%2F711bc4a56376&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=-----711bc4a56376---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="lm ao ln lo lp lq am lr ls lt ll"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l lu lv lw lx ly lz ma"><p class="bf b dv z du"><span class="mb">--</span></p></div></div></span></div><div class="bq ab"><div><div class="bm" aria-hidden="false"><button class="ao lm me mf ab q fk mg mh" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="md"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b bg z du"><span class="pw-responses-count mc md">4</span></p></button></div></div></div></div><div class="ab q"><div class="sf l jj"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F711bc4a56376&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;source=--------------------------bookmark_footer-----------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du mj" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="sf l jj"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af fk ah ai aj ak al mr an ao ap ex ms mt mh mu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="sg sh si sj sk l bx"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="cl ab sl cp"><div class="ab im"><a rel="noopener follow" href="/@2twitme?source=post_page-----711bc4a56376--------------------------------"><div class="l sm sn by so iq"><div class="l fj"><img alt="Jules S. Damji" class="l fd by sp sq cx" src="https://miro.medium.com/v2/resize:fill:144:144/0*hIS9LgEB75e1xfzz.jpeg" width="72" height="72" loading="lazy"/><div class="ir by l sp sq fs n is ft"></div></div></div></a><a href="https://medium.com/the-modern-scientist?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><div class="sr ab fj"><div><div class="bm" aria-hidden="false"><div class="l ss st by so iw"><div class="l fj"><img alt="The Modern Scientist" class="l fd by bz ca cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*9FbQbOV7VrXIwo_U-Q3mQA.png" width="32" height="32" loading="lazy"/><div class="ir by l bz ca fs n is ft"></div></div></div></div></div></div></a></div><div class="j i d"><div class="ab"><span><button class="bf b bg z ep rj eq er es et eu ev ew ex ey ez fa au fb fc fd bm fe ff">Follow</button></span><div class="dt l"><div><div><div class="bm" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F90af6f137475&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;newsletterV3=603ab1741c22&amp;newsletterV3Id=90af6f137475&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=-----711bc4a56376---------------------subscribe_user-----------"><button class="bf b bg z sv am sw sx sy sz ta tb tc td ew ex ey ez fa fb fc fd bm fe ff" aria-label="Subscribe"><svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="none" viewBox="0 0 38 38" class="su st ss"><rect width="0.5" height="6.5" x="26.25" y="9.25" rx="0.25"></rect><rect width="0.5" height="6.5" x="29.75" y="12.25" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5 19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="ab cn cp"><div class="l"><div class="ab q"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab q" rel="noopener follow" href="/@2twitme?source=post_page-----711bc4a56376--------------------------------"><h2 class="pw-author-name bf qb te tf tg bk"><span class="gn ka">Written by <!-- -->Jules S. Damji</span></h2></a></div><div class="rh ab"><div class="l jj"><span class="pw-follower-count bf b bg z bk"><a class="af ag ah ai aj ak al am an ao ap aq ar jc" rel="noopener follow" href="/@2twitme/followers?source=post_page-----711bc4a56376--------------------------------">427 Followers</a></span></div><div class="bf b bg z jr js jt ab jv jw jx jy du jp"><span class="jd l" aria-hidden="true"><span class="bf b bg z du">·</span></span><span class="l jj">Writer for </span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar jc ab q" href="https://medium.com/the-modern-scientist?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b bg z jr js jt ju jv jw jx jy bk">The Modern Scientist</p></a></div></div></div></div><div class="qu l"><p class="bf b bg z bk"><span class="gn">Developer at heart; Advocate by nature | Communicator by choice | Avid Arsenal Fan| Love Reading, Writing, APIs, Coding | All Tweets are Mine</span></p></div></div><div class="h k"><div class="ab"><span><button class="bf b bg z ep rj eq er es et eu ev ew ex ey ez fa au fb fc fd bm fe ff">Follow</button></span><div class="dt l"><div><div><div class="bm" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F90af6f137475&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-modern-scientist%2Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376&amp;newsletterV3=603ab1741c22&amp;newsletterV3Id=90af6f137475&amp;user=Jules+S.+Damji&amp;userId=603ab1741c22&amp;source=-----711bc4a56376---------------------subscribe_user-----------"><button class="bf b bg z sv am sw sx sy sz ta tb tc td ew ex ey ez fa fb fc fd bm fe ff" aria-label="Subscribe"><svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="none" viewBox="0 0 38 38" class="su st ss"><rect width="0.5" height="6.5" x="26.25" y="9.25" rx="0.25"></rect><rect width="0.5" height="6.5" x="29.75" y="12.25" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5 19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="th bh ti tj tk tl tm tn"></div></div></div><div class="h k j"><div class="th bh ti to"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="tp ab lh jm"><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Help</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Status</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/about?autoplay=1&amp;source=post_page-----711bc4a56376--------------------------------"><p class="bf b dv z du">About</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----711bc4a56376--------------------------------"><p class="bf b dv z du">Careers</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="pressinquiries@medium.com?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Press</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Blog</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Privacy</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Terms</p></a></div><div class="tq tr l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----711bc4a56376--------------------------------" rel="noopener follow"><p class="bf b dv z du">Text to speech</p></a></div><div class="tq l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/business?source=post_page-----711bc4a56376--------------------------------"><p class="bf b dv z du">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20240906-080548-55d03aed62"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-711bc4a56376","user-603ab1741c22","collection-a812fbb05bb7"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"lohpSummerUpsellEnabled":false,"logoUpdatePhase3Enabled":false},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"7c44dbf3-cc18-4097-b3ea-e2b17669a58c","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-2ce0e5676138861d5288e714abc4d69b-15536023c249c887-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null},"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20240906-080548-55d03aed62","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20240906-080548-55d03aed62","commit":"55d03aed628d7ac4b8033c82917dc6859c56ea18"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"collectionByDomainOrSlug({\"domainOrSlug\":\"the-modern-scientist\"})":{"__ref":"Collection:a812fbb05bb7"},"postResult({\"id\":\"711bc4a56376\"})":{"__ref":"Post:711bc4a56376"}},"ImageMetadata:":{"__typename":"ImageMetadata","id":""},"Collection:a812fbb05bb7":{"__typename":"Collection","id":"a812fbb05bb7","favicon":{"__ref":"ImageMetadata:"},"customStyleSheet":{"__ref":"CustomStyleSheet:60bad1e62d92"},"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF6F2F0","point":0},{"__typename":"ColorPoint","color":"#FFF4F0ED","point":0.1},{"__typename":"ColorPoint","color":"#FFF2EEEB","point":0.2},{"__typename":"ColorPoint","color":"#FFF0ECE9","point":0.3},{"__typename":"ColorPoint","color":"#FFEEEAE7","point":0.4},{"__typename":"ColorPoint","color":"#FFEDE8E5","point":0.5},{"__typename":"ColorPoint","color":"#FFEBE6E3","point":0.6},{"__typename":"ColorPoint","color":"#FFE9E4E0","point":0.7},{"__typename":"ColorPoint","color":"#FFE7E2DE","point":0.8},{"__typename":"ColorPoint","color":"#FFE5E0DC","point":0.9},{"__typename":"ColorPoint","color":"#FFE4DEDA","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF88847E","point":0},{"__typename":"ColorPoint","color":"#FF7E7A76","point":0.1},{"__typename":"ColorPoint","color":"#FF75716D","point":0.2},{"__typename":"ColorPoint","color":"#FF6B6764","point":0.3},{"__typename":"ColorPoint","color":"#FF615E5A","point":0.4},{"__typename":"ColorPoint","color":"#FF565451","point":0.5},{"__typename":"ColorPoint","color":"#FF4B4947","point":0.6},{"__typename":"ColorPoint","color":"#FF403E3C","point":0.7},{"__typename":"ColorPoint","color":"#FF343331","point":0.8},{"__typename":"ColorPoint","color":"#FF282726","point":0.9},{"__typename":"ColorPoint","color":"#FF1B1A19","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFEFE9E3","colorPoints":[{"__typename":"ColorPoint","color":"#FFEFE9E3","point":0},{"__typename":"ColorPoint","color":"#FFDED8D2","point":0.1},{"__typename":"ColorPoint","color":"#FFCCC7C1","point":0.2},{"__typename":"ColorPoint","color":"#FFBAB5AF","point":0.3},{"__typename":"ColorPoint","color":"#FFA7A39D","point":0.4},{"__typename":"ColorPoint","color":"#FF94908B","point":0.5},{"__typename":"ColorPoint","color":"#FF807C77","point":0.6},{"__typename":"ColorPoint","color":"#FF6C6863","point":0.7},{"__typename":"ColorPoint","color":"#FF56524E","point":0.8},{"__typename":"ColorPoint","color":"#FF3E3B37","point":0.9},{"__typename":"ColorPoint","color":"#FF23211D","point":1}]}},"googleAnalyticsId":null,"editors":[{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:1253d637b2a0"}},{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:51dc32cccce0"}}],"name":"The Modern Scientist","avatar":{"__ref":"ImageMetadata:1*9FbQbOV7VrXIwo_U-Q3mQA.png"},"domain":null,"slug":"the-modern-scientist","description":"The Modern Scientist aspires to connect builders & the curious to forward-thinking ideas. Either you are novice or expert, TMS will share contents that fulfils your ambition and interest. Write with us: shorturl.at\u002FhjO39","subscriberCount":811,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:a812fbb05bb7-viewerId:lo_aae5c427dccd"},"twitterUsername":null,"facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*9FbQbOV7VrXIwo_U-Q3mQA.png"}},"CustomStyleSheet:60bad1e62d92":{"__typename":"CustomStyleSheet","id":"60bad1e62d92","global":{"__typename":"GlobalStyles","colorPalette":{"__typename":"StyleSheetColorPalette","primary":{"__typename":"ColorValue","colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF1F3F5","point":0},{"__typename":"ColorPoint","color":"#FFEFF1F3","point":0.1},{"__typename":"ColorPoint","color":"#FFECEFF2","point":0.2},{"__typename":"ColorPoint","color":"#FFE9EEF1","point":0.3},{"__typename":"ColorPoint","color":"#FFE7ECF0","point":0.4},{"__typename":"ColorPoint","color":"#FFE4EAEE","point":0.5},{"__typename":"ColorPoint","color":"#FFE2E9ED","point":0.6},{"__typename":"ColorPoint","color":"#FFDFE7EC","point":0.7},{"__typename":"ColorPoint","color":"#FFDCE5EB","point":0.8},{"__typename":"ColorPoint","color":"#FFD9E4E9","point":0.9},{"__typename":"ColorPoint","color":"#FFD7E2E8","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF79878F","point":0},{"__typename":"ColorPoint","color":"#FF717E84","point":0.1},{"__typename":"ColorPoint","color":"#FF69747A","point":0.2},{"__typename":"ColorPoint","color":"#FF606A6F","point":0.3},{"__typename":"ColorPoint","color":"#FF576065","point":0.4},{"__typename":"ColorPoint","color":"#FF4E5659","point":0.5},{"__typename":"ColorPoint","color":"#FF454B4E","point":0.6},{"__typename":"ColorPoint","color":"#FF3B4042","point":0.7},{"__typename":"ColorPoint","color":"#FF303436","point":0.8},{"__typename":"ColorPoint","color":"#FF252829","point":0.9},{"__typename":"ColorPoint","color":"#FF181A1B","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF616F76","colorPoints":[{"__typename":"ColorPoint","color":"#FF616F76","point":0},{"__typename":"ColorPoint","color":"#FF727F86","point":0.1},{"__typename":"ColorPoint","color":"#FF838F95","point":0.2},{"__typename":"ColorPoint","color":"#FF949EA4","point":0.3},{"__typename":"ColorPoint","color":"#FFA4ADB2","point":0.4},{"__typename":"ColorPoint","color":"#FFB4BBC0","point":0.5},{"__typename":"ColorPoint","color":"#FFC3C9CD","point":0.6},{"__typename":"ColorPoint","color":"#FFD2D7DA","point":0.7},{"__typename":"ColorPoint","color":"#FFE1E5E7","point":0.8},{"__typename":"ColorPoint","color":"#FFF0F2F4","point":0.9},{"__typename":"ColorPoint","color":"#FFFEFFFF","point":1}]}}},"background":null},"fonts":{"__typename":"StyleSheetFonts","font1":{"__typename":"StyleSheetFont","name":"SERIF_2"},"font2":{"__typename":"StyleSheetFont","name":"SANS_SERIF_1"},"font3":{"__typename":"StyleSheetFont","name":"SERIF_1"}}},"header":{"__typename":"HeaderStyles","backgroundImage":{"__ref":"ImageMetadata:1*xGA6lGGUFzmahMOjoHXQeg.jpeg"}}},"User:1253d637b2a0":{"__typename":"User","id":"1253d637b2a0"},"User:51dc32cccce0":{"__typename":"User","id":"51dc32cccce0"},"ImageMetadata:1*9FbQbOV7VrXIwo_U-Q3mQA.png":{"__typename":"ImageMetadata","id":"1*9FbQbOV7VrXIwo_U-Q3mQA.png","originalWidth":1001,"originalHeight":1000},"ImageMetadata:1*xGA6lGGUFzmahMOjoHXQeg.jpeg":{"__typename":"ImageMetadata","id":"1*xGA6lGGUFzmahMOjoHXQeg.jpeg"},"LinkedAccounts:603ab1741c22":{"__typename":"LinkedAccounts","mastodon":null,"id":"603ab1741c22"},"UserViewerEdge:userId:603ab1741c22-viewerId:lo_aae5c427dccd":{"__typename":"UserViewerEdge","id":"userId:603ab1741c22-viewerId:lo_aae5c427dccd","isFollowing":false,"isUser":false,"isMuting":false},"NewsletterV3:90af6f137475":{"__typename":"NewsletterV3","id":"90af6f137475","type":"NEWSLETTER_TYPE_AUTHOR","slug":"603ab1741c22","name":"603ab1741c22","collection":null,"user":{"__ref":"User:603ab1741c22"}},"User:603ab1741c22":{"__typename":"User","id":"603ab1741c22","name":"Jules S. Damji","username":"2twitme","newsletterV3":{"__ref":"NewsletterV3:90af6f137475"},"linkedAccounts":{"__ref":"LinkedAccounts:603ab1741c22"},"isSuspended":false,"imageId":"0*hIS9LgEB75e1xfzz.jpeg","mediumMemberAt":1717257332939,"verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":427},"customDomainState":null,"hasSubdomain":false,"bio":"Developer at heart; Advocate by nature | Communicator by choice | Avid Arsenal Fan| Love Reading, Writing, APIs, Coding | All Tweets are Mine","isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:603ab1741c22-viewerId:lo_aae5c427dccd"},"viewerIsUser":false,"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"twitterScreenName":"2twitme","membership":{"__ref":"Membership:bc60a724-4f2e-4a07-bc06-883a0f1c013e"}},"Paragraph:11aeca5fbe51_0":{"__typename":"Paragraph","id":"11aeca5fbe51_0","name":"4783","type":"H3","href":null,"layout":null,"metadata":null,"text":"An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_1":{"__typename":"Paragraph","id":"11aeca5fbe51_1","name":"7bf3","type":"H4","href":null,"layout":null,"metadata":null,"text":"Is declarative approach appropriate to programming LLMs? A peek at DSPy programming model?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_2":{"__typename":"Paragraph","id":"11aeca5fbe51_2","name":"19cc","type":"H3","href":null,"layout":null,"metadata":null,"text":"Introduction","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_3":{"__typename":"Paragraph","id":"11aeca5fbe51_3","name":"b4a8","type":"P","href":null,"layout":null,"metadata":null,"text":"Some contend that in the realm of software development, less than ideal innovations, with less than ideal developer adoption and community, fade into irrelevance. In today’s frenzy and tizzy world of Generative AI, better “ways of doing stuff” emerge daily, each with their proponents advocating with infectious enthusiasm their merits over other innovations.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*BrWMqrUp5Wa-0sGs":{"__typename":"ImageMetadata","id":"0*BrWMqrUp5Wa-0sGs","originalHeight":519,"originalWidth":519,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_4":{"__typename":"Paragraph","id":"11aeca5fbe51_4","name":"f16a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*BrWMqrUp5Wa-0sGs"},"text":"Courtesy of DALL-E 3","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_5":{"__typename":"Paragraph","id":"11aeca5fbe51_5","name":"9f3b","type":"P","href":null,"layout":null,"metadata":null,"text":"Is DSPy, pronounced as dee-s-pie, the new framework from Stanford NLP, for programming language models less than an ideal innovation? Is it a replacement, as some of its proponents aver, to prompt engineering techniques? Lastly, is the goal of framework attainable by replacing the artful and skillful yet tedious and fragile prompt construction in favor of systematic, modular, and composable programs?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":3,"end":7,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":57,"end":69,"href":"https:\u002F\u002Fnlp.stanford.edu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":23,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_6":{"__typename":"Paragraph","id":"11aeca5fbe51_6","name":"600a","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, I examine what’s about DSPy that is promising and confusing, what’s lacking and needs improving; and how it can construct modular pipelines to interact with LLMs. Through a few end-to-end prompting examples, I’ll convert established prompting techniques to equivalent DSPy modular versions and asses its merit along the way. You can peruse these IPython notebooks on Google Colab and Python apps on GitHub.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*MWurZcVKTStUjy-AZ4xG4Q.png":{"__typename":"ImageMetadata","id":"1*MWurZcVKTStUjy-AZ4xG4Q.png","originalHeight":834,"originalWidth":1494,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_7":{"__typename":"Paragraph","id":"11aeca5fbe51_7","name":"0f82","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*MWurZcVKTStUjy-AZ4xG4Q.png"},"text":"Figure 1a. Python DSPy notebooks showcasing how to use DSPy modules","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":10,"end":32,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Ftree\u002Fmain\u002Fdspy#python-notebooks","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1Qjchl6iKMaByWh1LUpv4Q.png":{"__typename":"ImageMetadata","id":"1*1Qjchl6iKMaByWh1LUpv4Q.png","originalHeight":972,"originalWidth":1806,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_8":{"__typename":"Paragraph","id":"11aeca5fbe51_8","name":"2c8a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*1Qjchl6iKMaByWh1LUpv4Q.png"},"text":"Figure 1b. Python DSPy apps showcasing how to use DSPy modules","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":11,"end":28,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Ftree\u002Fmain\u002Fdspy#python-apps","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_9":{"__typename":"Paragraph","id":"11aeca5fbe51_9","name":"bea4","type":"H3","href":null,"layout":null,"metadata":null,"text":"DSPy Programming Model","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_10":{"__typename":"Paragraph","id":"11aeca5fbe51_10","name":"0710","type":"P","href":null,"layout":null,"metadata":null,"text":"The ML community is quickly advancing in techniques for prompting language models (LMs) and integrating them into pipelines to tackle complex tasks. However, current LM pipelines often rely on hard-coded “prompt templates,” which are lengthy, fragile, brittle and hand-crafted prompts developed through trial and error [1].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*T4YBn6UXXQ3byHl6":{"__typename":"ImageMetadata","id":"0*T4YBn6UXXQ3byHl6","originalHeight":305,"originalWidth":798,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_11":{"__typename":"Paragraph","id":"11aeca5fbe51_11","name":"e115","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*T4YBn6UXXQ3byHl6"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_12":{"__typename":"Paragraph","id":"11aeca5fbe51_12","name":"a022","type":"P","href":null,"layout":null,"metadata":null,"text":"Researchers Omar Khatab and Arnav Singhvi et al., of Stanford NLP group, argue that this approach, though common, can be brittle, fragile, and unscalable, akin to hand-tuning classifier weights. Also, a specific or an elaborate string prompt may not generalize well to different pipelines, language models, data domains, or inputs [2].","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":53,"end":65,"href":"https:\u002F\u002Fnlp.stanford.edu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_13":{"__typename":"Paragraph","id":"11aeca5fbe51_13","name":"b04e","type":"P","href":null,"layout":null,"metadata":null,"text":"Hence, they propose a more declarative, systematic and programmatic approach to interface with language models–something that PyTorch and Python developers are accustomed to in developing machine learning (ML) programs and ML related concepts.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_14":{"__typename":"Paragraph","id":"11aeca5fbe51_14","name":"df15","type":"P","href":null,"layout":null,"metadata":null,"text":"The DSPy programming model comprises three high-level abstractions: signatures, modules, and teleprompters (aka optimizers). Signatures abstract and dictate the input\u002Foutput behavior of a module; modules replace existing hand-prompting techniques and can be composed as arbitrary pipelines; and teleprompters, through compilation, optimize all modules in the pipeline to maximize a metric [3].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_15":{"__typename":"Paragraph","id":"11aeca5fbe51_15","name":"9a2a","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s start with Signatures first.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_16":{"__typename":"Paragraph","id":"11aeca5fbe51_16","name":"6163","type":"H3","href":null,"layout":null,"metadata":null,"text":"Signatures abstract away prompting","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_17":{"__typename":"Paragraph","id":"11aeca5fbe51_17","name":"ac0b","type":"P","href":null,"layout":null,"metadata":null,"text":"A DSPy signature is a natural-language typed function declaration: a concise specification describing what a text transformation should achieve (e.g., “consume questions and return answers”), rather than detailing how a specific LM should be prompted to perform that task.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":102,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":214,"end":217,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_18":{"__typename":"Paragraph","id":"11aeca5fbe51_18","name":"12d7","type":"P","href":null,"layout":null,"metadata":null,"text":"As such they have two advantages over prompts. First, they can be compiled into self-improving, pipeline-adaptive prompts or fine-tuned by bootstrapping useful examples for each signature. Second, they manage structured formatting and parsing logic, reducing or ideally eliminating brittle string manipulation in user programs [4].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_19":{"__typename":"Paragraph","id":"11aeca5fbe51_19","name":"d213","type":"BQ","href":null,"layout":null,"metadata":null,"text":"“A signature is a declarative specification of input\u002Foutput behavior of a DSPy module. Signatures allow you to tell the LM what it needs to do, rather than specify how we should ask the LM to do it,” states the docs. [5]","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":123,"end":127,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":164,"end":167,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_20":{"__typename":"Paragraph","id":"11aeca5fbe51_20","name":"e027","type":"P","href":null,"layout":null,"metadata":null,"text":"For instance, you can declaratively define a DSPy Signature object using a shorthand string notation as an argument. Effectively, this Signature now is declaring a task as a concise prompt: given a question, return an answer. In short, this shorthand notation is your declarative replacement of a prompt for a simple task. Here are a few examples of shorthand notations:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_21":{"__typename":"Paragraph","id":"11aeca5fbe51_21","name":"390f","type":"PRE","href":null,"layout":null,"metadata":null,"text":"import dspy\nsig_1 = dspy.Signature(“question -\u003E answer”)\nsig_2 = dspy.Signature(“document -\u003E summary”)\nsig_3 = dspy.Signature(“question, context -\u003E answer”)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_22":{"__typename":"Paragraph","id":"11aeca5fbe51_22","name":"46a4","type":"P","href":null,"layout":null,"metadata":null,"text":"Aside from in-line shorthand notation to declare tasks, you can define a class-based Signature, giving you more control over the input\u002Foutput fields format, style, and descriptive task description. The task description is a Python doc string in the class definition. And the format, style or behavior of the output can be a descriptive and declarative argument to the dspy.OutputField, making it easier to tweak it, rather than part of a larger prompt.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":368,"end":385,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_23":{"__typename":"Paragraph","id":"11aeca5fbe51_23","name":"f089","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class BasicQA(dspy.Signature):\n  “””Answer questions with short factoid answers”””\n\n  question = dspy.InputField()\n  answer = dspy.OutputField(desc=”often between 1 and 5 words”,\n                            prefix=”Question’s Answer:”)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_24":{"__typename":"Paragraph","id":"11aeca5fbe51_24","name":"59b8","type":"P","href":null,"layout":null,"metadata":null,"text":"Internally, DSPy, converts both above declarative formats into a prompt for the underlying LLM as shown in Figure 2. Optionally, using DSPy teleprompters (optimizers), these prompts can be compiled to iteratively generate an optimized LLM prompt (see the section below on Optimizers), akin to how you would optimize an ML model with learning optimizers, such as SGD, in an ML framework like PyTorch.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*ilY0hNBdkCfNck4S":{"__typename":"ImageMetadata","id":"0*ilY0hNBdkCfNck4S","originalHeight":664,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_25":{"__typename":"Paragraph","id":"11aeca5fbe51_25","name":"bd54","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*ilY0hNBdkCfNck4S"},"text":"Figure 2. Class-based declarative signature translation into an LLM prompt","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_26":{"__typename":"Paragraph","id":"11aeca5fbe51_26","name":"d436","type":"P","href":null,"layout":null,"metadata":null,"text":"Using the above class-based Signature is simple and intuitive.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_27":{"__typename":"Paragraph","id":"11aeca5fbe51_27","name":"db02","type":"PRE","href":null,"layout":null,"metadata":null,"text":"generate_response  = dspy.Predict(BasicQA)\npred = generate_resonse(question=”When was the last Solar Eclipse in the United States, and what states were covered in total darkness?”\nprint(f”Answer: {pred.answer}”)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_28":{"__typename":"Paragraph","id":"11aeca5fbe51_28","name":"c4f8","type":"P","href":null,"layout":null,"metadata":null,"text":"👍👍👍: ​​Using a task description as a Python class docstring or shorthand notation to generate an LLM prompt, without hand-crafting a prompt, aligns with a key DSPy framework assertion. It feels like Python programming, not manual hand-crafting delicate prompts. Converting some prompting technique examples above in Figures 1(a) and 1(b) instilled and inspired that sense in me.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_29":{"__typename":"Paragraph","id":"11aeca5fbe51_29","name":"adc3","type":"P","href":null,"layout":null,"metadata":null,"text":"While the dspy.Signature class is the core building block, DSPy also includes built-in modules that effectively translate well to prompting techniques like chain of thought, ReAct, RAG, program of thought, and complex reasoning.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":10,"end":25,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fsignatures","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":10,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_30":{"__typename":"Paragraph","id":"11aeca5fbe51_30","name":"124d","type":"P","href":null,"layout":null,"metadata":null,"text":"At the heart of all these modules is the dspy.Predict module, which all modules, including Signature, invoke through their forward() function call. Internally, Predict stores the Signature and uses it to construct a prompt.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":41,"end":54,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fapi\u002Fmodules\u002FPredict","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":40,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":123,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_31":{"__typename":"Paragraph","id":"11aeca5fbe51_31","name":"6452","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s explore these modules next.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_32":{"__typename":"Paragraph","id":"11aeca5fbe51_32","name":"8e1a","type":"H3","href":null,"layout":null,"metadata":null,"text":"Modules Build Complex Pipelines","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_33":{"__typename":"Paragraph","id":"11aeca5fbe51_33","name":"6092","type":"P","href":null,"layout":null,"metadata":null,"text":"According to the DSPy documentation, a DSPy module is a fundamental building block for DSPy pipelines or programs that use language models. Each module abstracts a prompting technique, such as chain of thought or ReAct, and is generalized to handle any DSPy Signature.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_34":{"__typename":"Paragraph","id":"11aeca5fbe51_34","name":"b3df","type":"P","href":null,"layout":null,"metadata":null,"text":"Modules can have learnable parameters, including prompt components and LM weights. As callable classes, they can be invoked with inputs and return outputs. Because they are building blocks, multiple modules can be combined into larger composable programs as pipelines. Inspired by NN modules in PyTorch, DSPy modules are designed for LLM programs [6].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_35":{"__typename":"Paragraph","id":"11aeca5fbe51_35","name":"4cd2","type":"P","href":null,"layout":null,"metadata":null,"text":"As callable classes, modules can be invoked with inputs and return outputs. Because they are building blocks, multiple modules can be combined into larger programs as pipelines. Inspired by NN modules in PyTorch, DSPy modules are designed for LLM programs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_36":{"__typename":"Paragraph","id":"11aeca5fbe51_36","name":"dce1","type":"P","href":null,"layout":null,"metadata":null,"text":"Think of modules as a smart shortcut to simplify complex prompting techniques. They’re like prefabricated blocks you can snap together to build your program. Creating your own modules is encouraged and is the core way to construct complex data pipeline programs in DSPy. These modules can function as standalone or combined as pipelines for more complex tasks, and they can be used in various applications [7].","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":231,"end":262,"href":"https:\u002F\u002Fwww.databricks.com\u002Fblog\u002Foptimizing-databricks-llm-pipelines-dspy","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_37":{"__typename":"Paragraph","id":"11aeca5fbe51_37","name":"3713","type":"P","href":null,"layout":null,"metadata":null,"text":"For instance, I can define a standalone ChainOfThought module using shorthand Signature notation.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":40,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_38":{"__typename":"Paragraph","id":"11aeca5fbe51_38","name":"a9b7","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class ChainOfThought(dspy.Module):\n def __init__( self, signature):\n  super().__init__()\n  self.predict = dspy.Signature(signature)\n\n # overwrite the forward function\n def forward(self, **kwargs):\n  return self.predict(**kwargs)\n\n# create an instance of class with shorthand Signature notation\n# as argument\ncot_generate = ChainOfThought(“context, question → answer”)\n\n# call the instance with input parameters specified in the\n# signature\nresponse = cot_generate(“context=....”, \n   “question=How to compute area of a triangle with height 5 feet and width 3 feet.”\nprint(f”Area of triangle: {response.answer}”)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*BQ0qY5yd9m2GWhO9":{"__typename":"ImageMetadata","id":"0*BQ0qY5yd9m2GWhO9","originalHeight":342,"originalWidth":700,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_39":{"__typename":"Paragraph","id":"11aeca5fbe51_39","name":"5126","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*BQ0qY5yd9m2GWhO9"},"text":"Figure 3. Module with a shorthand signature generated as an LLM prompt [8]","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_40":{"__typename":"Paragraph","id":"11aeca5fbe51_40","name":"43dc","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s take this notion one step further and build a composable pipeline using the building block we defined above, along with a built-in dspy.Retriever module to illustrate how you can create a composable pipeline as a RAG DSPy program.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":137,"end":151,"href":"https:\u002F\u002Fgithub.com\u002Fstanfordnlp\u002Fdspy\u002Fblob\u002Fmain\u002Fdspy\u002Fretrieve\u002Fretrieve.py","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":137,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_41":{"__typename":"Paragraph","id":"11aeca5fbe51_41","name":"f94c","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class RAGSignature(dspy.Signature):\n      \"\"\"\n      Given a context and question, answer the question.\n      \"\"\"\n      context = dspy.InputField()\n      question = dspy.InputField()\n      answer = dspy.OutputField()\n    \nclass RAG(dspy.Module) :\n      def __init__ ( self , num_passages=3) :\n          super().__init__()\n          # Retrieve will use the user’s default retrieval settings \n          # unless overridden .\n          self.retrieve = dspy.Retrieve(k=num_passages)\n\n          # ChainOfThought with signature that generates \n          # answers given retrieval context & question .\n          self.generate_answer = dspy.ChainOfThought(RAGSignature)\n\n       def forward (self, question) :\n           context = self.retrieve (question).passages\n           return self.generate_answer(context=context, question=question)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*jMG9tEdHG1gB60H-":{"__typename":"ImageMetadata","id":"0*jMG9tEdHG1gB60H-","originalHeight":890,"originalWidth":1156,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_42":{"__typename":"Paragraph","id":"11aeca5fbe51_42","name":"824f","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*jMG9tEdHG1gB60H-"},"text":"Figure 4: Composable DSPy RAG program module pipeline with Retrieve and ChainOfThought","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_43":{"__typename":"Paragraph","id":"11aeca5fbe51_43","name":"53fc","type":"P","href":null,"layout":null,"metadata":null,"text":"To see full implementation of a Naive RAG with DSPy modules peruse the links in Figures 1(a) and 1(b).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_44":{"__typename":"Paragraph","id":"11aeca5fbe51_44","name":"498e","type":"P","href":null,"layout":null,"metadata":null,"text":"👍👍👍: DSPy modules are Python declarative code, encapsulating your task logic (of what-to-do not how-to-do), behavior, input\u002Foutput format, style and any custom code. No need to write a novel as an elaborate prompt, no need to belabor trial and error with the prompts. Rather, construct your flow as a pipeline of composable blocks. I rather enjoyed writing Python code than English, albeit I do love writing. And let DSPy do the work in generating the prompt and interfacing with the language model.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":83,"end":94,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":99,"end":108,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_45":{"__typename":"Paragraph","id":"11aeca5fbe51_45","name":"d60f","type":"P","href":null,"layout":null,"metadata":null,"text":"Mapping well to the common prompting techniques, the built-in modules, listed in the table below, are extensible and customizable. At the time of this writing, the following DSPy modules were available:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*eTlKCUQojNevW5NnUYl_JA.png":{"__typename":"ImageMetadata","id":"1*eTlKCUQojNevW5NnUYl_JA.png","originalHeight":1102,"originalWidth":1618,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_46":{"__typename":"Paragraph","id":"11aeca5fbe51_46","name":"0e0c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*eTlKCUQojNevW5NnUYl_JA.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_47":{"__typename":"Paragraph","id":"11aeca5fbe51_47","name":"1ec5","type":"P","href":null,"layout":null,"metadata":null,"text":"What’s even better is that, like ML models, you can optimize these modules for efficient prompt generation and response evaluation with DSPy optimizers through compilation. Let’s examine how to achieve that next.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_48":{"__typename":"Paragraph","id":"11aeca5fbe51_48","name":"7f5e","type":"H3","href":null,"layout":null,"metadata":null,"text":"Optimizing and Compiling Modules","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_49":{"__typename":"Paragraph","id":"11aeca5fbe51_49","name":"8ba5","type":"P","href":null,"layout":null,"metadata":null,"text":"Just like PyTorch optimizers, like SGD, for minimizing loss and maximizing accuracy in ML, the DSPy optimizers API allows you to provide training examples and an evaluation metric to measure accuracy. If you’re familiar with PyTorch, this concept will resonate.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_50":{"__typename":"Paragraph","id":"11aeca5fbe51_50","name":"6d12","type":"P","href":null,"layout":null,"metadata":null,"text":"Optimizers take in a training set (to bootstrap a few selective examples to learn how to generate the prompt) and a metric (to measure proximity to or match correct response); they generate an instance of an optimized program that can be used to compile a DSPy program module. Currently, DSPy supports a number of built-in optimizers, each with a degree of rigor to maximize your metric.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":313,"end":333,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Foptimizers","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_51":{"__typename":"Paragraph","id":"11aeca5fbe51_51","name":"b025","type":"P","href":null,"layout":null,"metadata":null,"text":"Best to illustrate with some example code. Consider a small training set of examples that you want to use to train a DSPy module to conduct sentiment analysis. In prompt engineering, this is akin to a few-shot learning technique as part of the larger in-context prompt.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_52":{"__typename":"Paragraph","id":"11aeca5fbe51_52","name":"4be4","type":"P","href":null,"layout":null,"metadata":null,"text":"The response from the module, after interfacing with the target language model, is either positive, negative, or neutral. Your metric can, then, check if the answer returned is one of those class sentiment categories–or something bogus.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_53":{"__typename":"Paragraph","id":"11aeca5fbe51_53","name":"7ae2","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s create a short training set, metric, and module. Note that ​​metrics can be as simple as returning a numeric score (like 0 or 1), an exact match (EM) or F1, as well as an entire DSPy program that balances and measures multiple concerns in the prediction.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_54":{"__typename":"Paragraph","id":"11aeca5fbe51_54","name":"966a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"# Evaluate a metric for the right response category\ndef evaluate_sentiment(example, pred, trace=None)-\u003Ebool:\n  return pred in [“positive”, “negative”, “neutral”]\n\ndef get_examples() -\u003E List[dspy.Example]:\n  trainset = [dspy.Example(sentence=”””This movie is a true cinematic gem, \n                                     blending an engaging plot with superb performances and stunning visuals. A masterpiece that leaves a lasting impression”””,\n                            sentiment=”positive”).with_inputs(“sentence”),\n              dspy.Example(sentence=”””Regrettably, the film failed to live\n                                     up to expectations, with a convoluted \n                                     storyline, lackluster acting, and \n                                     uninspiring cinematography. \n                                     disappointment overall.”””\n                             sentiment=”negative”).with_inputs(“sentence”)\n              dspy.Example(sentence=”””The movie had its moments, offering\n                                     a decent storyline and average \n                                     performances. While not groundbreaking,\n                                     it provided an enjoyable viewing \n                                     experience.”””,\n                            sentiment=”neutral”).with_inputs(“sentence”)\n\n             ...\n           ]\n      return trainset\n\n# define our DSPy module that you want to optimize and compile\nclass ClassifyEmotion(dspy.Signature):\n  “”” classify emotion based on the input sentence and provide the sentiment as output”\"\"\n   sentence = dspy.InputField()\n   sentiment = dspy.OutputField(desc=”generate sentiment as \n   positive, negative or neutral”)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_55":{"__typename":"Paragraph","id":"11aeca5fbe51_55","name":"5508","type":"PRE","href":null,"layout":null,"metadata":null,"text":"from dspy.teleprompt import BootstrapFewShot\n\n# Create an optimizer\noptimizer = BootstrapFewShot(metric=evaluate_sentiment,\ntrainset=get_examples())\ncompiled_classifier = optimizer.compile(ClassifyEmotion(), \ntrainset=get_examples()\n\n# Use our compiled classifier that has learned through bootstrapping \n# a few examples how to generate the response\nresponse = compiled_classifier(sentence=\"I can't believe how beautiful the sunset was tonight! The colors were breathtaking and it really made my day\"\nprint(response.sentiment).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*eLyoBm5XaBazlbU1":{"__typename":"ImageMetadata","id":"0*eLyoBm5XaBazlbU1","originalHeight":732,"originalWidth":1400,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_56":{"__typename":"Paragraph","id":"11aeca5fbe51_56","name":"97da","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*eLyoBm5XaBazlbU1"},"text":"Figure 5: Set of artifacts for the compiler to generate optimized prompts [12]","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_57":{"__typename":"Paragraph","id":"11aeca5fbe51_57","name":"631f","type":"P","href":null,"layout":null,"metadata":null,"text":"Internally, all the above achieves the following:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_58":{"__typename":"Paragraph","id":"11aeca5fbe51_58","name":"005e","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Bootstrap our trainset to learn using few-shot in-context prompting","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_59":{"__typename":"Paragraph","id":"11aeca5fbe51_59","name":"23d1","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Use the metric to evaluate if the output predicts one of the three sentiment categories","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_60":{"__typename":"Paragraph","id":"11aeca5fbe51_60","name":"70f9","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Compile the DSPy module","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_61":{"__typename":"Paragraph","id":"11aeca5fbe51_61","name":"b2f4","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Generate prompts","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_62":{"__typename":"Paragraph","id":"11aeca5fbe51_62","name":"ac3e","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Use the compiled classifier to classify our sentences with the best prompt","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_63":{"__typename":"Paragraph","id":"11aeca5fbe51_63","name":"f0a0","type":"P","href":null,"layout":null,"metadata":null,"text":"Omar Khattab and Arnav Singhvi et al. describe the above optimizing and compiling process undergoing three stages [13]:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_64":{"__typename":"Paragraph","id":"11aeca5fbe51_64","name":"0239","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Candidate generation: select the candidate predictor module, if more than one.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_65":{"__typename":"Paragraph","id":"11aeca5fbe51_65","name":"b234","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Parameter optimization: select candidates’ instructions or demonstrations in the prompts and then optimize with different LM weights for the best response.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_66":{"__typename":"Paragraph","id":"11aeca5fbe51_66","name":"3596","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Higher-Order program optimization: think of these as a language compiler code optimization where code is rearranged for better execution. In DSPy, complicated pipelines are simplified as ensembles and rearranged to alter the control flow.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":35,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_67":{"__typename":"Paragraph","id":"11aeca5fbe51_67","name":"00fc","type":"P","href":null,"layout":null,"metadata":null,"text":"To see how the DSPy framework optimized and tuned your prompts, simply print the history of all generated prompts with this command, where n \u003E 0.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_68":{"__typename":"Paragraph","id":"11aeca5fbe51_68","name":"b078","type":"PRE","href":null,"layout":null,"metadata":null,"text":"your_model.inpspect_history(n=3)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_69":{"__typename":"Paragraph","id":"11aeca5fbe51_69","name":"a8b6","type":"P","href":null,"layout":null,"metadata":null,"text":"This will print out three different optimized prompts generated for the LLM. To see a full example of a few-shot example with optimizer and compilation, peruse the notebook or Python app on ReAct tasks in Figures 1(a) and 1(b).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_70":{"__typename":"Paragraph","id":"11aeca5fbe51_70","name":"07ff","type":"P","href":null,"layout":null,"metadata":null,"text":"Another discussion by Frederick Ros examines tuning and optimizing DSPy modules [14]. Lastly, Omar Khattab et al, offer a couple of case studies with empirical data to suggest that optimized and compiled modules offer tangible efficiency, performance, and accuracy over unoptimized ones with respect to quantifiable measurements for complex reasoning tasks [15].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_71":{"__typename":"Paragraph","id":"11aeca5fbe51_71","name":"d11a","type":"P","href":null,"layout":null,"metadata":null,"text":"👎: The concept of optimizers and compilers in the DSPy framework can be difficult to understand, seem non-intuitive, and mysterious as a black box. Although they deliver their objectives, they fall short in clarity and simplicity: why not conflate optimize and compile as a single API call instead of two separate phases. Also, documentation is scanty with no explicit examples or illustrations that shed light into darkness and bring it to sharper focus.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_72":{"__typename":"Paragraph","id":"11aeca5fbe51_72","name":"ecf9","type":"P","href":null,"layout":null,"metadata":null,"text":"All assets I examined so far–documentation and published blogs–come short to lucidly explain this powerful notion. For this concept is central to self-improvement and optimization aspect of the framework. With absence of clear cut examples and practical use cases, this concept eluded me to elicit the WOW 🤯 appeal in me.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_73":{"__typename":"Paragraph","id":"11aeca5fbe51_73","name":"0f0b","type":"H3","href":null,"layout":null,"metadata":null,"text":"DSPy End-to-end Example Programs","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_74":{"__typename":"Paragraph","id":"11aeca5fbe51_74","name":"6eb2","type":"P","href":null,"layout":null,"metadata":null,"text":"Programming frameworks, write Omar Khattab and Arnav Singhvi et al., can be evaluated along many dimensions, including computational efficiency, developer efficiency, intuitiveness of the code and concepts, etc. The authors evaluate the DSPy programming framework along three hypotheses [15]:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_75":{"__typename":"Paragraph","id":"11aeca5fbe51_75","name":"60ee","type":"ULI","href":null,"layout":null,"metadata":null,"text":"H1: With DSPy, we can replace hand-crafted prompt strings with concise and well-defined modules, without reducing quality or expressive power.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":2,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_76":{"__typename":"Paragraph","id":"11aeca5fbe51_76","name":"9826","type":"ULI","href":null,"layout":null,"metadata":null,"text":"H2: Parameterizing the modules and treating prompting as an optimization problem makes DSPy better at adapting to different LMs, and it may outperform expert-written prompts.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_77":{"__typename":"Paragraph","id":"11aeca5fbe51_77","name":"d370","type":"ULI","href":null,"layout":null,"metadata":null,"text":"H3: The resulting modularity makes it possible to more thoroughly explore complex pipelines that have useful performance characteristics or that fit nuanced metrics.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_78":{"__typename":"Paragraph","id":"11aeca5fbe51_78","name":"86ba","type":"P","href":null,"layout":null,"metadata":null,"text":"I used the DSPy framework to convert all my examples from a previously published Prompt Engineering blog with explicit and elaborate prompts techniques. Using the local OLama language model and DSPy’s built-in tools like Retrievers, I was able to modularize and construct complex-pipelines for complex reasoning tasks.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":81,"end":104,"href":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fbest-prompt-techniques-for-best-llm-responses-24d2ff4f6bca","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":169,"end":189,"href":"https:\u002F\u002Fwww.ollama.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":221,"end":231,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fapi\u002Fcategory\u002Fretrieval-model-clients","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_79":{"__typename":"Paragraph","id":"11aeca5fbe51_79","name":"7d80","type":"H3","href":null,"layout":null,"metadata":null,"text":"NLP Tasks","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_80":{"__typename":"Paragraph","id":"11aeca5fbe51_80","name":"6ed0","type":"P","href":null,"layout":null,"metadata":null,"text":"I used DSPy declarative signatures to express how-to code examples for common natural language understanding capabilities of a generalized LLM, such as ChatGPT, OLlama, Mistral, and Llama 3 series:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":46,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_81":{"__typename":"Paragraph","id":"11aeca5fbe51_81","name":"95f6","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text generation or completion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_82":{"__typename":"Paragraph","id":"11aeca5fbe51_82","name":"17a2","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text summarization","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_83":{"__typename":"Paragraph","id":"11aeca5fbe51_83","name":"d949","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text extraction","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_84":{"__typename":"Paragraph","id":"11aeca5fbe51_84","name":"dc31","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text classification or sentiment analysis","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_85":{"__typename":"Paragraph","id":"11aeca5fbe51_85","name":"f2ae","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text categorization","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_86":{"__typename":"Paragraph","id":"11aeca5fbe51_86","name":"e3c0","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Text transformation and translation","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_87":{"__typename":"Paragraph","id":"11aeca5fbe51_87","name":"478b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Simple and complex reasoning","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_88":{"__typename":"Paragraph","id":"11aeca5fbe51_88","name":"7486","type":"P","href":null,"layout":null,"metadata":null,"text":"To that end, the DSPy modules were up to the task. Code is modular, declarative, and no storytelling with prompts; no need for the CO-STAR prompt framework to hand-craft an elaborate prompt. See notebooks and Python apps in Figures 1(a) and 1(b) in GenAI Cookbook GitHub Repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":131,"end":146,"href":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-i-won-singapores-gpt-4-prompt-engineering-competition-34c195a93d41","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":249,"end":281,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002Fmain\u002Fdspy\u002FREADME.md","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_89":{"__typename":"Paragraph","id":"11aeca5fbe51_89","name":"a29e","type":"H3","href":null,"layout":null,"metadata":null,"text":"Program of Thought Task","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_90":{"__typename":"Paragraph","id":"11aeca5fbe51_90","name":"e1d9","type":"P","href":null,"layout":null,"metadata":null,"text":"Program of thought prompting, like chain of thought, for LLMs involves providing a sequence of reasoning steps in the prompt to guide the model toward a solution. This technique helps the model to process complex problems by breaking them down into intermediate steps, much like a human would. By mimicking human-like reasoning, chain of thought prompting improves the model’s ability to handle tasks that require logic, deduction, and programming.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_91":{"__typename":"Paragraph","id":"11aeca5fbe51_91","name":"bd79","type":"P","href":null,"layout":null,"metadata":null,"text":"Using DSPy Program of Thought (PoT) Module dspy.ProgramOfThought, most of these examples generate Python code to solve the problem. Hardly, any need to specify elaborate prompts, just a concise task description.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":43,"end":64,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fdeep-dive\u002Fmodules\u002Fprogram-of-thought","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":43,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_92":{"__typename":"Paragraph","id":"11aeca5fbe51_92","name":"1623","type":"P","href":null,"layout":null,"metadata":null,"text":"See notebooks and Python apps in Figures 1(a) and 1(b) in GenAI Cookbook GitHub Repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":58,"end":90,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002Fmain\u002Fdspy\u002FREADME.md","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_93":{"__typename":"Paragraph","id":"11aeca5fbe51_93","name":"795e","type":"H3","href":null,"layout":null,"metadata":null,"text":"Naive RAG","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_94":{"__typename":"Paragraph","id":"11aeca5fbe51_94","name":"29ad","type":"P","href":null,"layout":null,"metadata":null,"text":"Amazingly easy and modular, DSPy Modules can be chained or stacked to create a pipeline. In our case, building a Naive RAG comprises using dspy.Signature and dspy.ChainOfThought, and module class RAG (see implementation in dspy_utils.)","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":223,"end":233,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002F6c8e7e10f017da39aed5afd107b351f322ddd968\u002Fdspy\u002Fdspy_utils.py","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":139,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":158,"end":177,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_95":{"__typename":"Paragraph","id":"11aeca5fbe51_95","name":"8cc8","type":"P","href":null,"layout":null,"metadata":null,"text":"Out of the box, DSPy supports a set of Retrievers clients. For this example, I used the supported dspy.ColBERTv2 tool.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":39,"end":57,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fapi\u002Fcategory\u002Fretrieval-model-clients","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":98,"end":112,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_96":{"__typename":"Paragraph","id":"11aeca5fbe51_96","name":"1943","type":"P","href":null,"layout":null,"metadata":null,"text":"See notebooks and Python apps in Figures 1(a) and 1(b) in GenAI Cookbook GitHub Repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":58,"end":90,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002Fmain\u002Fdspy\u002FREADME.md","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_97":{"__typename":"Paragraph","id":"11aeca5fbe51_97","name":"461e","type":"H3","href":null,"layout":null,"metadata":null,"text":"ReAct Tasks","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_98":{"__typename":"Paragraph","id":"11aeca5fbe51_98","name":"a0e9","type":"P","href":null,"layout":null,"metadata":null,"text":"First introduced in a paper by Yao et al., 2022, ReAct is a reasoning and acting paradigm that guides LLM to respond in a structured manner to complex queries. Reasoning and actions are interleaved and progressive, in the manner of chain of thought, so that LLM progresses from one result to another, using the previous answer.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":31,"end":47,"href":"https:\u002F\u002Farxiv.org\u002Fabs\u002F2210.03629","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_99":{"__typename":"Paragraph","id":"11aeca5fbe51_99","name":"4435","type":"P","href":null,"layout":null,"metadata":null,"text":"Results suggest that ReAct outperforms other leading methods in language and decision-making tasks, enhancing human understanding and trusting in large language models (LLMs). It is best when combined with chain-of-thought (CoT) steps as individual tasks with results being used for the next step, utilizing both internal knowledge and external information during reasoning.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_100":{"__typename":"Paragraph","id":"11aeca5fbe51_100","name":"a196","type":"P","href":null,"layout":null,"metadata":null,"text":"This task was a DSPy conversion of LLM ReAct prompting notebook.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":35,"end":63,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002F6c8e7e10f017da39aed5afd107b351f322ddd968\u002Fllm-prompts\u002F7_how_to_use_react_prompt.ipynb","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_101":{"__typename":"Paragraph","id":"11aeca5fbe51_101","name":"bbcd","type":"P","href":null,"layout":null,"metadata":null,"text":"See notebooks and Python apps in Figures 1(a) and 1(b) in GenAI Cookbook GitHub Repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":58,"end":90,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook\u002Fblob\u002Fmain\u002Fdspy\u002FREADME.md","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_102":{"__typename":"Paragraph","id":"11aeca5fbe51_102","name":"78f0","type":"P","href":null,"layout":null,"metadata":null,"text":"👍👍👍: In the all above prompt engineering tasks, the DSPy’s creators’ hypotheses H1 and H3 seem to hold up well and meet my expectations. However, H2 is a bit unclear and unintuitive, and I was unable to get my head around it, as I lament above in the optimizing and compiling section. To some extent the mapping of DSPy modules to common prompting tasks worked, underpinning H1 and H2.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":83,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":89,"end":93,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":97,"end":98,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":148,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":378,"end":381,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":385,"end":387,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_103":{"__typename":"Paragraph","id":"11aeca5fbe51_103","name":"1e19","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_104":{"__typename":"Paragraph","id":"11aeca5fbe51_104","name":"fb4d","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, we covered DSPy framework and programming model, an innovative, declarative, systematic, and modular way to program and interface with language models instead of using explicit and elaborate prompts. Through elaborate examples of prompt engineering techniques explored in my previous blog, I converted prompting techniques into their equivalent DSPy programs.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":292,"end":306,"href":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fbest-prompt-techniques-for-best-llm-responses-24d2ff4f6bca","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_105":{"__typename":"Paragraph","id":"11aeca5fbe51_105","name":"abe3","type":"P","href":null,"layout":null,"metadata":null,"text":"Along the way, I praised many aspects of DSPy that appealed to me and may also appeal to Python developers accustomed to declarative methods of programming. I pointed out some of its shortcomings with respect to the concepts, documented examples, and lack of use cases. Two out of three hypotheses explored in the original paper seem to hold up well during my programmatic endeavor: converting elaborate and explicit prompt engineering techniques and constructing modular and declarative DSPy programs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_106":{"__typename":"Paragraph","id":"11aeca5fbe51_106","name":"9cbb","type":"P","href":null,"layout":null,"metadata":null,"text":"Is the new framework from Stanford NLP, for programming language models less than an ideal innovation? Will it fade into irrelevance?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":26,"end":38,"href":"https:\u002F\u002Fnlp.stanford.edu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_107":{"__typename":"Paragraph","id":"11aeca5fbe51_107","name":"6f05","type":"P","href":null,"layout":null,"metadata":null,"text":"I don’t think so. While it has not exploded in popularity like other LLM frameworks such as LangChain and LLamaIndex, it has an expanding community, growing presence on its GitHub (with 924 forks, 150 contributors, and over 12K stars), and gathering lively discussions on Reddit and discord forum, so not likely to fade into irrelevance either.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":173,"end":179,"href":"https:\u002F\u002Fgithub.com\u002Fstanfordnlp\u002Fdspy","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":257,"end":278,"href":"https:\u002F\u002Fwww.reddit.com\u002Fr\u002FLocalLLaMA\u002Fcomments\u002F1cplfph\u002Fwho_is_using_dspy\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":283,"end":297,"href":"https:\u002F\u002Fdiscord.com\u002Fchannels\u002F1161519468141355160\u002F1202371014240251944","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*Q-fqCfceL5_Ol5FW":{"__typename":"ImageMetadata","id":"0*Q-fqCfceL5_Ol5FW","originalHeight":605,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:11aeca5fbe51_108":{"__typename":"Paragraph","id":"11aeca5fbe51_108","name":"141c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*Q-fqCfceL5_Ol5FW"},"text":"Figure 6 Comparison searches of DSPy with LlamaIndex and LangChain","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_109":{"__typename":"Paragraph","id":"11aeca5fbe51_109","name":"70d5","type":"P","href":null,"layout":null,"metadata":null,"text":"Is it a replacement, as some of its proponents aver, to prompt engineering techniques? It’s a likely optional preference where applicable with tangible use cases that demonstrate its efficacy and usage. If more GenAI, Data, AI pioneer companies like Databricks showcase its usage with their ecosystem, or a well-funded startup company behind DSPy emerges, we are likely to see wider usage.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":250,"end":300,"href":"https:\u002F\u002Fwww.databricks.com\u002Fblog\u002Foptimizing-databricks-llm-pipelines-dspy","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_110":{"__typename":"Paragraph","id":"11aeca5fbe51_110","name":"66f0","type":"P","href":null,"layout":null,"metadata":null,"text":"A total replacement of any technological innovation is a hyperbolic claim; total replacement is only attained over time, not overnight. Not likely that DSPy will immediately dislodge or displace skillful and hand-crafted prompts and prompt template engineering yet.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_111":{"__typename":"Paragraph","id":"11aeca5fbe51_111","name":"ec82","type":"H3","href":null,"layout":null,"metadata":null,"text":"What’s Next?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_112":{"__typename":"Paragraph","id":"11aeca5fbe51_112","name":"be54","type":"P","href":null,"layout":null,"metadata":null,"text":"Meanwhile, if you missed my sequence of blog series on GenAI Cookbook on LLMs, take a read:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":55,"end":69,"href":"https:\u002F\u002Fgithub.com\u002Fdmatrix\u002Fgenai-cookbook?tab=readme-ov-file#current-blogs-on-this-cookbook","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_113":{"__typename":"Paragraph","id":"11aeca5fbe51_113","name":"4dad","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Best Prompt Techniques for Best LLM Responses","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":45,"href":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fbest-prompt-techniques-for-best-llm-responses-24d2ff4f6bca","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_114":{"__typename":"Paragraph","id":"11aeca5fbe51_114","name":"1704","type":"ULI","href":null,"layout":null,"metadata":null,"text":"LLM Beyond its Core Capabilities as AI Assistants or Agents","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":59,"href":"https:\u002F\u002Fmedium.com\u002F@2twitme\u002Fllm-beyond-its-core-capabilities-as-ai-assistants-or-agents-704ffb972934","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_115":{"__typename":"Paragraph","id":"11aeca5fbe51_115","name":"f106","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Crafting Intelligent User Experiences: A Deep Dive into OpenAI Assistants API","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":77,"href":"https:\u002F\u002Fmedium.com\u002F@2twitme\u002Fcrafting-intelligent-user-experiences-a-deep-dive-into-openai-assistants-api-00439ace108a","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_116":{"__typename":"Paragraph","id":"11aeca5fbe51_116","name":"7a89","type":"ULI","href":null,"layout":null,"metadata":null,"text":"An Intuitive 101 Guide to Vector Embeddings","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":43,"href":"https:\u002F\u002Fmedium.com\u002F@2twitme\u002Fan-intuitive-101-guide-to-vector-embeddings-ffde295c3558","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_117":{"__typename":"Paragraph","id":"11aeca5fbe51_117","name":"73d1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"An Exploratory Tour of Retrieval Augmented Generation (RAG) Paradigm","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":68,"href":"https:\u002F\u002Fmedium.com\u002F@2twitme\u002Fan-exploratory-tour-of-retrieval-augmented-generation-rag-paradigm-3940c1947d27","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_118":{"__typename":"Paragraph","id":"11aeca5fbe51_118","name":"514e","type":"P","href":null,"layout":null,"metadata":null,"text":"To stay abreast with updates or upcoming blogs, follow me on X @2twitme or LinkedIn. Stay tuned for next blog on Assertions, Datasets, Examples, Evaluate, and more Compilers and Optimizers, as I attempt another go at it and get my head around it.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":63,"end":71,"href":"https:\u002F\u002Ftwitter.com\u002F2twitme","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":75,"end":83,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fdmatrix\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_119":{"__typename":"Paragraph","id":"11aeca5fbe51_119","name":"5629","type":"H3","href":null,"layout":null,"metadata":null,"text":"References and Resources","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_120":{"__typename":"Paragraph","id":"11aeca5fbe51_120","name":"a132","type":"P","href":null,"layout":null,"metadata":null,"text":"[1, 2, 3, 4, 11, 13, 14, 15] https:\u002F\u002Farxiv.org\u002Fpdf\u002F2310.03714","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":29,"end":61,"href":"https:\u002F\u002Farxiv.org\u002Fpdf\u002F2310.03714","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_121":{"__typename":"Paragraph","id":"11aeca5fbe51_121","name":"ff70","type":"P","href":null,"layout":null,"metadata":null,"text":"[5] https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fsignatures","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":4,"end":64,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fsignatures","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_122":{"__typename":"Paragraph","id":"11aeca5fbe51_122","name":"b126","type":"P","href":null,"layout":null,"metadata":null,"text":"[6] https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fmodules","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":4,"end":61,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fmodules","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_123":{"__typename":"Paragraph","id":"11aeca5fbe51_123","name":"60a8","type":"P","href":null,"layout":null,"metadata":null,"text":"[7, 8] https:\u002F\u002Fwww.theaidream.com\u002Fpost\u002Fdspy-a-revolutionary-framework-for-programming-llms","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":7,"end":90,"href":"https:\u002F\u002Fwww.theaidream.com\u002Fpost\u002Fdspy-a-revolutionary-framework-for-programming-llms","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_124":{"__typename":"Paragraph","id":"11aeca5fbe51_124","name":"0241","type":"P","href":null,"layout":null,"metadata":null,"text":"[9] https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fmodules#what-other-dspy-modules-are-there-how-can-i-use-them","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":4,"end":114,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Fbuilding-blocks\u002Fmodules#what-other-dspy-modules-are-there-how-can-i-use-them","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_125":{"__typename":"Paragraph","id":"11aeca5fbe51_125","name":"fba6","type":"P","href":null,"layout":null,"metadata":null,"text":"[10] https:\u002F\u002Fmedium.com\u002F@frederick.ros\u002Fdspy-essentials-mastering-model-tuning-with-optimizers-32b1db951915","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":5,"end":106,"href":"https:\u002F\u002Fmedium.com\u002F@frederick.ros\u002Fdspy-essentials-mastering-model-tuning-with-optimizers-32b1db951915","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_126":{"__typename":"Paragraph","id":"11aeca5fbe51_126","name":"832b","type":"P","href":null,"layout":null,"metadata":null,"text":"[12] https:\u002F\u002Ftowardsdatascience.com\u002Fintro-to-dspy-goodbye-prompting-hello-programming-4ca1c6ce3eb9","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":5,"end":98,"href":"https:\u002F\u002Ftowardsdatascience.com\u002Fintro-to-dspy-goodbye-prompting-hello-programming-4ca1c6ce3eb9","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_127":{"__typename":"Paragraph","id":"11aeca5fbe51_127","name":"0596","type":"P","href":null,"layout":null,"metadata":null,"text":"[16] https:\u002F\u002Fwww.databricks.com\u002Fblog\u002Foptimizing-databricks-llm-pipelines-dspy","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":5,"end":77,"href":"https:\u002F\u002Fwww.databricks.com\u002Fblog\u002Foptimizing-databricks-llm-pipelines-dspy","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:11aeca5fbe51_128":{"__typename":"Paragraph","id":"11aeca5fbe51_128","name":"b773","type":"P","href":null,"layout":null,"metadata":null,"text":"[17] https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Ftutorials\u002Fexamples","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":5,"end":57,"href":"https:\u002F\u002Fdspy-docs.vercel.app\u002Fdocs\u002Ftutorials\u002Fexamples","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"CollectionViewerEdge:collectionId:a812fbb05bb7-viewerId:lo_aae5c427dccd":{"__typename":"CollectionViewerEdge","id":"collectionId:a812fbb05bb7-viewerId:lo_aae5c427dccd","isEditor":false,"isMuting":false},"PostViewerEdge:postId:711bc4a56376-viewerId:lo_aae5c427dccd":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:711bc4a56376-viewerId:lo_aae5c427dccd"},"Tag:llm":{"__typename":"Tag","id":"llm","displayTitle":"Llm","normalizedTagSlug":"llm"},"Tag:dspy":{"__typename":"Tag","id":"dspy","displayTitle":"Dspy","normalizedTagSlug":"dspy"},"Tag:prompt-engineering":{"__typename":"Tag","id":"prompt-engineering","displayTitle":"Prompt Engineering","normalizedTagSlug":"prompt-engineering"},"Tag:genai":{"__typename":"Tag","id":"genai","displayTitle":"Genai","normalizedTagSlug":"genai"},"Tag:python-programming":{"__typename":"Tag","id":"python-programming","displayTitle":"Python Programming","normalizedTagSlug":"python-programming"},"Membership:bc60a724-4f2e-4a07-bc06-883a0f1c013e":{"__typename":"Membership","tier":"MEMBER","id":"bc60a724-4f2e-4a07-bc06-883a0f1c013e"},"Post:711bc4a56376":{"__typename":"Post","id":"711bc4a56376","collection":{"__ref":"Collection:a812fbb05bb7"},"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"82d0","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:11aeca5fbe51_0"},{"__ref":"Paragraph:11aeca5fbe51_1"},{"__ref":"Paragraph:11aeca5fbe51_2"},{"__ref":"Paragraph:11aeca5fbe51_3"},{"__ref":"Paragraph:11aeca5fbe51_4"},{"__ref":"Paragraph:11aeca5fbe51_5"},{"__ref":"Paragraph:11aeca5fbe51_6"},{"__ref":"Paragraph:11aeca5fbe51_7"},{"__ref":"Paragraph:11aeca5fbe51_8"},{"__ref":"Paragraph:11aeca5fbe51_9"},{"__ref":"Paragraph:11aeca5fbe51_10"},{"__ref":"Paragraph:11aeca5fbe51_11"},{"__ref":"Paragraph:11aeca5fbe51_12"},{"__ref":"Paragraph:11aeca5fbe51_13"},{"__ref":"Paragraph:11aeca5fbe51_14"},{"__ref":"Paragraph:11aeca5fbe51_15"},{"__ref":"Paragraph:11aeca5fbe51_16"},{"__ref":"Paragraph:11aeca5fbe51_17"},{"__ref":"Paragraph:11aeca5fbe51_18"},{"__ref":"Paragraph:11aeca5fbe51_19"},{"__ref":"Paragraph:11aeca5fbe51_20"},{"__ref":"Paragraph:11aeca5fbe51_21"},{"__ref":"Paragraph:11aeca5fbe51_22"},{"__ref":"Paragraph:11aeca5fbe51_23"},{"__ref":"Paragraph:11aeca5fbe51_24"},{"__ref":"Paragraph:11aeca5fbe51_25"},{"__ref":"Paragraph:11aeca5fbe51_26"},{"__ref":"Paragraph:11aeca5fbe51_27"},{"__ref":"Paragraph:11aeca5fbe51_28"},{"__ref":"Paragraph:11aeca5fbe51_29"},{"__ref":"Paragraph:11aeca5fbe51_30"},{"__ref":"Paragraph:11aeca5fbe51_31"},{"__ref":"Paragraph:11aeca5fbe51_32"},{"__ref":"Paragraph:11aeca5fbe51_33"},{"__ref":"Paragraph:11aeca5fbe51_34"},{"__ref":"Paragraph:11aeca5fbe51_35"},{"__ref":"Paragraph:11aeca5fbe51_36"},{"__ref":"Paragraph:11aeca5fbe51_37"},{"__ref":"Paragraph:11aeca5fbe51_38"},{"__ref":"Paragraph:11aeca5fbe51_39"},{"__ref":"Paragraph:11aeca5fbe51_40"},{"__ref":"Paragraph:11aeca5fbe51_41"},{"__ref":"Paragraph:11aeca5fbe51_42"},{"__ref":"Paragraph:11aeca5fbe51_43"},{"__ref":"Paragraph:11aeca5fbe51_44"},{"__ref":"Paragraph:11aeca5fbe51_45"},{"__ref":"Paragraph:11aeca5fbe51_46"},{"__ref":"Paragraph:11aeca5fbe51_47"},{"__ref":"Paragraph:11aeca5fbe51_48"},{"__ref":"Paragraph:11aeca5fbe51_49"},{"__ref":"Paragraph:11aeca5fbe51_50"},{"__ref":"Paragraph:11aeca5fbe51_51"},{"__ref":"Paragraph:11aeca5fbe51_52"},{"__ref":"Paragraph:11aeca5fbe51_53"},{"__ref":"Paragraph:11aeca5fbe51_54"},{"__ref":"Paragraph:11aeca5fbe51_55"},{"__ref":"Paragraph:11aeca5fbe51_56"},{"__ref":"Paragraph:11aeca5fbe51_57"},{"__ref":"Paragraph:11aeca5fbe51_58"},{"__ref":"Paragraph:11aeca5fbe51_59"},{"__ref":"Paragraph:11aeca5fbe51_60"},{"__ref":"Paragraph:11aeca5fbe51_61"},{"__ref":"Paragraph:11aeca5fbe51_62"},{"__ref":"Paragraph:11aeca5fbe51_63"},{"__ref":"Paragraph:11aeca5fbe51_64"},{"__ref":"Paragraph:11aeca5fbe51_65"},{"__ref":"Paragraph:11aeca5fbe51_66"},{"__ref":"Paragraph:11aeca5fbe51_67"},{"__ref":"Paragraph:11aeca5fbe51_68"},{"__ref":"Paragraph:11aeca5fbe51_69"},{"__ref":"Paragraph:11aeca5fbe51_70"},{"__ref":"Paragraph:11aeca5fbe51_71"},{"__ref":"Paragraph:11aeca5fbe51_72"},{"__ref":"Paragraph:11aeca5fbe51_73"},{"__ref":"Paragraph:11aeca5fbe51_74"},{"__ref":"Paragraph:11aeca5fbe51_75"},{"__ref":"Paragraph:11aeca5fbe51_76"},{"__ref":"Paragraph:11aeca5fbe51_77"},{"__ref":"Paragraph:11aeca5fbe51_78"},{"__ref":"Paragraph:11aeca5fbe51_79"},{"__ref":"Paragraph:11aeca5fbe51_80"},{"__ref":"Paragraph:11aeca5fbe51_81"},{"__ref":"Paragraph:11aeca5fbe51_82"},{"__ref":"Paragraph:11aeca5fbe51_83"},{"__ref":"Paragraph:11aeca5fbe51_84"},{"__ref":"Paragraph:11aeca5fbe51_85"},{"__ref":"Paragraph:11aeca5fbe51_86"},{"__ref":"Paragraph:11aeca5fbe51_87"},{"__ref":"Paragraph:11aeca5fbe51_88"},{"__ref":"Paragraph:11aeca5fbe51_89"},{"__ref":"Paragraph:11aeca5fbe51_90"},{"__ref":"Paragraph:11aeca5fbe51_91"},{"__ref":"Paragraph:11aeca5fbe51_92"},{"__ref":"Paragraph:11aeca5fbe51_93"},{"__ref":"Paragraph:11aeca5fbe51_94"},{"__ref":"Paragraph:11aeca5fbe51_95"},{"__ref":"Paragraph:11aeca5fbe51_96"},{"__ref":"Paragraph:11aeca5fbe51_97"},{"__ref":"Paragraph:11aeca5fbe51_98"},{"__ref":"Paragraph:11aeca5fbe51_99"},{"__ref":"Paragraph:11aeca5fbe51_100"},{"__ref":"Paragraph:11aeca5fbe51_101"},{"__ref":"Paragraph:11aeca5fbe51_102"},{"__ref":"Paragraph:11aeca5fbe51_103"},{"__ref":"Paragraph:11aeca5fbe51_104"},{"__ref":"Paragraph:11aeca5fbe51_105"},{"__ref":"Paragraph:11aeca5fbe51_106"},{"__ref":"Paragraph:11aeca5fbe51_107"},{"__ref":"Paragraph:11aeca5fbe51_108"},{"__ref":"Paragraph:11aeca5fbe51_109"},{"__ref":"Paragraph:11aeca5fbe51_110"},{"__ref":"Paragraph:11aeca5fbe51_111"},{"__ref":"Paragraph:11aeca5fbe51_112"},{"__ref":"Paragraph:11aeca5fbe51_113"},{"__ref":"Paragraph:11aeca5fbe51_114"},{"__ref":"Paragraph:11aeca5fbe51_115"},{"__ref":"Paragraph:11aeca5fbe51_116"},{"__ref":"Paragraph:11aeca5fbe51_117"},{"__ref":"Paragraph:11aeca5fbe51_118"},{"__ref":"Paragraph:11aeca5fbe51_119"},{"__ref":"Paragraph:11aeca5fbe51_120"},{"__ref":"Paragraph:11aeca5fbe51_121"},{"__ref":"Paragraph:11aeca5fbe51_122"},{"__ref":"Paragraph:11aeca5fbe51_123"},{"__ref":"Paragraph:11aeca5fbe51_124"},{"__ref":"Paragraph:11aeca5fbe51_125"},{"__ref":"Paragraph:11aeca5fbe51_126"},{"__ref":"Paragraph:11aeca5fbe51_127"},{"__ref":"Paragraph:11aeca5fbe51_128"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:603ab1741c22"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fthe-modern-scientist\u002Fan-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"machine-learning"},{"__typename":"Topic","slug":"programming"}],"isPublished":true,"latestPublishedVersion":"11aeca5fbe51","visibility":"PUBLIC","postResponses":{"__typename":"PostResponses","count":4},"clapCount":350,"allowResponses":true,"isLimitedState":false,"title":"An Exploratory Tour of DSPy: A Framework for Programing Language Models, not Prompting","isSeries":false,"sequence":null,"uniqueSlug":"an-exploratory-tour-of-dspy-a-framework-for-programing-language-models-not-prompting-711bc4a56376","socialTitle":"","socialDek":"","canonicalUrl":"","metaDescription":"","latestPublishedAt":1725391477706,"readingTime":14.423584905660377,"previewContent":{"__typename":"PreviewContent","subtitle":"Is declarative approach appropriate to programming LLMs? A peek at DSPy programming model?"},"previewImage":{"__ref":"ImageMetadata:0*BrWMqrUp5Wa-0sGs"},"isShortform":false,"seoTitle":"","firstPublishedAt":1717442252584,"updatedAt":1725391477706,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","viewerEdge":{"__ref":"PostViewerEdge:postId:711bc4a56376-viewerId:lo_aae5c427dccd"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:llm"},{"__ref":"Tag:dspy"},{"__ref":"Tag:prompt-engineering"},{"__ref":"Tag:genai"},{"__ref":"Tag:python-programming"}],"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":3491,"layerCake":6}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.92110665.js"></script><script src="https://cdn-client.medium.com/lite/static/js/9865.1496d74a.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.3c1d68ac.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.d9108df7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.ff22a7a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9120.5df29668.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5049.d1ead72d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4810.6318add7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6618.db187378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1386.014e2ad3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.343f5002.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5250.fc15c18c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8261.80c0631e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.b019beb1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2648.a582e725.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2712.0f6c85f5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2793.01d2b056.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1530.2779d8ee.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3735.ca2f95e3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5642.0ebb50fd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6546.7e5d2ee6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.f2d3924e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2420.0330d157.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2106.21ff89d3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6696.92b2dfc3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5832.a567559e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3366.1571a1d5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6040.6ceb7f43.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4391.fd55a702.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.3c324843.chunk.js"></script><script>window.main();</script></body></html>